{"version":3,"sources":["assets/resources/FreeSpinDigital.ts"],"names":["_a","cc","_decorator","ccclass","property","FreeSpinDigital","_super","_this","apply","this","arguments","HoriTens","HoriDigital","VertiTens","VertiDigital","FreeSpinTimes_Digital","Number0","Number1","Number2","Number3","Number4","Number5","Number6","Number7","Number8","Number9","__extends","prototype","init","LoadFreeSpinDigital","sent","setFreeSpinAnimation","forEach","clip","addClip","name","textures","Promise","res","AnimationClip","createWithSpriteFrames","length","wrapMode","WrapMode","PingPong","push","emptyarray","path","idx","CompletedCount","_loop_1","i","loader","loadRes","fileName","err","texture","console","log","SpriteFrame","__decorate","Animation","Component","exports","default"],"mappings":"4qFAGM,IAAAA,EAAAC,GAAAC,WAAAC,EAAAH,EAAAG,QAAAC,EAAAJ,EAAAI,SAGNC,EAAA,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAA,OAAAD,GAAAA,EAAAE,MAAAC,KAAAC,YAAAD,YAIIF,EAAAI,SAAA,KAGAJ,EAAAK,YAAA,KAGAL,EAAAM,UAAA,KAGAN,EAAAO,aAAA,KAIAP,EAAAQ,sBAAA,GAEAR,EAAAS,QAAA,GACAT,EAAAU,QAAA,GACAV,EAAAW,QAAA,GACAX,EAAAY,QAAA,GACAZ,EAAAa,QAAA,GACAb,EAAAc,QAAA,GACAd,EAAAe,QAAA,GACAf,EAAAgB,QAAA,GACAhB,EAAAiB,QAAA,GACAjB,EAAAkB,QAAA,KA2EJ,OAvG6CC,EAAArB,EAAAC,GA8BnCD,EAAAsB,UAAAC,KAAA,uGAEF,KAAA,EAAA,MAAA,CAAA,EAAAnB,KAAAoB,oBAAApB,KAAAO,QAAA,6BAAA,WACA,OADAhB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAQ,QAAA,6BAAA,WACA,OADAjB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAS,QAAA,6BAAA,WACA,OADAlB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAU,QAAA,6BAAA,WACA,OADAnB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAW,QAAA,6BAAA,WACA,OADApB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAY,QAAA,6BAAA,WACA,OADArB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAa,QAAA,6BAAA,WACA,OADAtB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAc,QAAA,6BAAA,WACA,OADAvB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAe,QAAA,6BAAA,WACA,OADAxB,EAAA8B,OACA,CAAA,EAAArB,KAAAoB,oBAAApB,KAAAgB,QAAA,6BAAA,YAEA,OAFAzB,EAAA8B,OAEA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAO,kBACA,OADAhB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAQ,kBACA,OADAjB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAS,kBACA,OADAlB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAU,kBACA,OADAnB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAW,kBACA,OADApB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAY,kBACA,OADArB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAa,kBACA,OADAtB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAc,kBACA,OADAvB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAe,kBACA,OADAxB,EAAA8B,OACA,CAAA,EAAArB,KAAAsB,qBAAA,IAAAtB,KAAAgB,yBAAAzB,EAAA8B,OAEArB,KAAAM,sBAAAiB,QAAA,SAAAC,GACI1B,EAAAK,YAAAsB,QAAAD,GACA1B,EAAAI,SAAAuB,QAAAD,GACA1B,EAAAO,aAAAoB,QAAAD,GACA1B,EAAAM,UAAAqB,QAAAD,eAMR5B,EAAAsB,UAAAI,qBAAA,SAAAI,EAAAC,GAAA,IAAA7B,EAAAE,KAEI,OAAA,IAAA4B,QAAA,SAAAC,GAEI,IAAAL,EAAAhC,GAAAsC,cAAAC,uBAAAJ,EAAAA,EAAAK,QACAR,EAAAS,SAAAzC,GAAA0C,SAAAC,SACAX,EAAAE,KAAAA,EACA5B,EAAAQ,sBAAA8B,KAAAZ,GACAK,EAAA,OAMRjC,EAAAsB,UAAAE,oBAAA,SAAAiB,EAAAC,EAAAC,GAEI,OAAA,IAAAX,QAAA,SAAAC,GAEI,IADA,IAAAW,EAAA,EACSC,EAAA,SAAAC,GAMLlD,GAAAmD,OAAAC,QAAAN,EAJA,SAAAI,GACI,OAAAA,EAAA,GAAYH,EAAA,MAAAG,EACPH,EAAA,KAAAG,EAETG,CAAAH,GAAA,SAAAI,EAAAC,GACID,GAASE,QAAAC,IAAAH,GACTT,EAAAK,GAAA,IAAAlD,GAAA0D,YAAAH,IACAP,GAAA,IACA,IACIX,EAAA,OAXZa,EAAA,EAAAA,EAAA,GAAAA,IAASD,EAAAC,MA9EjBS,EAAA,CADCxD,EAAAH,GAAA4D,YAC4BxD,EAAAsB,UAAA,gBAAA,GAG7BiC,EAAA,CADCxD,EAAAH,GAAA4D,YAC+BxD,EAAAsB,UAAA,mBAAA,GAGhCiC,EAAA,CADCxD,EAAAH,GAAA4D,YAC6BxD,EAAAsB,UAAA,iBAAA,GAG9BiC,EAAA,CADCxD,EAAAH,GAAA4D,YACgCxD,EAAAsB,UAAA,oBAAA,GAbhBiC,EAAA,CADpBzD,GACoBE,GAArB,CAAAJ,GAAA6D,WAAqBC,EAAAC,QAAA3D","sourcesContent":["import GameManager from \"../Script/GameManager\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FreeSpinDigital extends cc.Component {\r\n\r\n\r\n    @property(cc.Animation)\r\n    HoriTens: cc.Animation = null\r\n\r\n    @property(cc.Animation)\r\n    HoriDigital: cc.Animation = null\r\n\r\n    @property(cc.Animation)\r\n    VertiTens: cc.Animation = null\r\n\r\n    @property(cc.Animation)\r\n    VertiDigital: cc.Animation = null\r\n\r\n\r\n\r\n    FreeSpinTimes_Digital: cc.AnimationClip[] = [];\r\n\r\n    Number0: cc.SpriteFrame[] = [];\r\n    Number1: cc.SpriteFrame[] = [];\r\n    Number2: cc.SpriteFrame[] = [];\r\n    Number3: cc.SpriteFrame[] = [];\r\n    Number4: cc.SpriteFrame[] = [];\r\n    Number5: cc.SpriteFrame[] = [];\r\n    Number6: cc.SpriteFrame[] = [];\r\n    Number7: cc.SpriteFrame[] = [];\r\n    Number8: cc.SpriteFrame[] = [];\r\n    Number9: cc.SpriteFrame[] = [];\r\n\r\n    async init() {\r\n\r\n        await this.LoadFreeSpinDigital(this.Number0, 'Texture/freespinDigital/0/', 0)\r\n        await this.LoadFreeSpinDigital(this.Number1, 'Texture/freespinDigital/1/', 1)\r\n        await this.LoadFreeSpinDigital(this.Number2, 'Texture/freespinDigital/2/', 2)\r\n        await this.LoadFreeSpinDigital(this.Number3, 'Texture/freespinDigital/3/', 3)\r\n        await this.LoadFreeSpinDigital(this.Number4, 'Texture/freespinDigital/4/', 4)\r\n        await this.LoadFreeSpinDigital(this.Number5, 'Texture/freespinDigital/5/', 5)\r\n        await this.LoadFreeSpinDigital(this.Number6, 'Texture/freespinDigital/6/', 6)\r\n        await this.LoadFreeSpinDigital(this.Number7, 'Texture/freespinDigital/7/', 7)\r\n        await this.LoadFreeSpinDigital(this.Number8, 'Texture/freespinDigital/8/', 8)\r\n        await this.LoadFreeSpinDigital(this.Number9, 'Texture/freespinDigital/9/', 9)\r\n\r\n        await this.setFreeSpinAnimation('0', this.Number0)\r\n        await this.setFreeSpinAnimation('1', this.Number1)\r\n        await this.setFreeSpinAnimation('2', this.Number2)\r\n        await this.setFreeSpinAnimation('3', this.Number3)\r\n        await this.setFreeSpinAnimation('4', this.Number4)\r\n        await this.setFreeSpinAnimation('5', this.Number5)\r\n        await this.setFreeSpinAnimation('6', this.Number6)\r\n        await this.setFreeSpinAnimation('7', this.Number7)\r\n        await this.setFreeSpinAnimation('8', this.Number8)\r\n        await this.setFreeSpinAnimation('9', this.Number9)\r\n\r\n        this.FreeSpinTimes_Digital.forEach((clip, idx) => {\r\n            this.HoriDigital.addClip(clip)\r\n            this.HoriTens.addClip(clip)\r\n            this.VertiDigital.addClip(clip)\r\n            this.VertiTens.addClip(clip)\r\n        })\r\n\r\n\r\n    }\r\n\r\n    setFreeSpinAnimation(name, textures: cc.SpriteFrame[]) {\r\n\r\n        return new Promise((res, rej) => {\r\n\r\n            let clip: cc.AnimationClip = cc.AnimationClip.createWithSpriteFrames(textures, textures.length)\r\n            clip.wrapMode = cc.WrapMode.PingPong;\r\n            clip.name = name;\r\n            this.FreeSpinTimes_Digital.push(clip)\r\n            res('')\r\n\r\n        })\r\n\r\n    }\r\n\r\n    LoadFreeSpinDigital(emptyarray: cc.SpriteFrame[], path: string, idx) {\r\n\r\n        return new Promise((res, rej) => {\r\n            let CompletedCount = 0\r\n            for (let i = 0; i < 16; i++) {\r\n\r\n                let fileName = (i): string => {\r\n                    if (i < 10) return `${idx}_00${i}`\r\n                    else return `${idx}_0${i}`\r\n                }\r\n                cc.loader.loadRes(path + fileName(i), (err, texture: cc.Texture2D) => {\r\n                    if (err) console.log(err)\r\n                    emptyarray[i] = new cc.SpriteFrame(texture)\r\n                    CompletedCount += 1;\r\n                    if (CompletedCount >= 16)\r\n                        res('')\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n"],"file":"index.js"}