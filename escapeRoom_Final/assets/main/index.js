window.__require=function e(t,o,n){function i(a,c){if(!o[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"0ccbfzDumVNG4DeFv0lBdag","AudioManager");var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(t){r(t)}}function c(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioManager=void 0;var r=e("./AudioType"),a=e("../Hierachy/CocosUtil"),c=function(){function e(){}return e.init=function(){return n(this,void 0,void 0,function(){var t=this;return i(this,function(){return e.setMusicVolume(.5),[2,new Promise(function(o){return n(t,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,Promise.all([a.CocosUtil.loadResDirSync(e.MusicFolderUrl),a.CocosUtil.loadResDirSync(e.SoundFolderUrl),a.CocosUtil.loadResDirSync(e.VocalFolderUrl)])];case 1:return t=n.sent(),this.m_MusicClipMap=this.clipsToMap(t[0]),this.m_SoundClipMap=this.clipsToMap(t[1]),this.m_VocalClipMap=this.clipsToMap(t[2]),o(!0),[2]}})})})]})})},e.Remoteinit=function(){},e.playMusic=function(t,o){if(void 0===o&&(o=!0),""!=t.toString()){var n=e.getClip(this.m_MusicClipMap,t),i=cc.audioEngine.playMusic(n,o);return this.m_MusicClipMap.forEach(function(){}),this.m_TempPlayingMusics.set(t,i),i}},e.playSound=function(t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=!1),""!=t.toString()){n||this.stopSound(t);var i=e.getClip(this.m_SoundClipMap,t),r=cc.audioEngine.playEffect(i,o);return this.m_TempPlayingSounds.set(t,r),r}},e.playVocal=function(t){null!=this.m_TempPlayingVocal&&cc.audioEngine.stopEffect(this.m_TempPlayingVocal);var o=e.getClip(this.m_VocalClipMap,t),n=cc.audioEngine.playEffect(o,!1);this.m_TempPlayingVocal=n},e.stopMusic=function(){cc.audioEngine.stopMusic()},e.stopSound=function(e){if(this.getAudioState(e)==cc.audioEngine.AudioState.PLAYING){var t=this.m_TempPlayingSounds.get(e);cc.audioEngine.stopEffect(t)}},e.isEnum=function(e,t){return Object.values(t).includes(e)},e.getAudioState=function(t){var o=-1;return e.isEnum(t,r.MusicType)?o=this.m_TempPlayingMusics.get(t):e.isEnum(t,r.SoundType)&&(o=this.m_TempPlayingSounds.get(t)),null==o||o<0?cc.audioEngine.AudioState.STOPPED:cc.audioEngine.getState(o)},e.setMusicVolume=function(e){cc.audioEngine.setMusicVolume(e)},e.setSoundVolume=function(e){cc.audioEngine.setEffectsVolume(e)},e.getClip=function(e,t){var o=e.get(t);return void 0===o&&cc.log("Cannot find sound of type: "+t),o},e.clipsToMap=function(e){var t=new Map;return e.forEach(function(e){t.set(e.name,e)}),t},e.MusicFolderUrl="Audio/Music/",e.SoundFolderUrl="Audio/Sound/",e.VocalFolderUrl="Audio/Vocal/",e.m_MusicClipMap=new Map,e.m_SoundClipMap=new Map,e.m_VocalClipMap=new Map,e.m_TempPlayingVocal=null,e.m_TempPlayingSounds=new Map,e.m_TempPlayingMusics=new Map,e}();o.AudioManager=c,cc._RF.pop()},{"../Hierachy/CocosUtil":"CocosUtil","./AudioType":"AudioType"}],AudioType:[function(e,t,o){"use strict";cc._RF.push(t,"a5297LCDVpKd57kKB86bPU5","AudioType"),Object.defineProperty(o,"__esModule",{value:!0}),o.VocalType=o.SoundType=o.MusicType=void 0,function(e){e.newGame="newGame",e.H_Music="H_Music",e.StartPage="StartPage",e.VanillaForest="VanillaForest",e.BreakCastle="BreakCastle",e.SecretRoom="SecretRoom",e.Rainbow="Rainbow",e.GardenMaze="GardenMaze",e.PlantRoom="PlantRoom",e.CrystallCave="CrystallCave",e.HCG="HCG"}(o.MusicType||(o.MusicType={})),function(e){e.temp="temp",e.ClickButton="ClickButton",e.Break_Glass="Break_Glass",e.CombineSuccessful="CombineSuccessful",e.CombineFailed="CombineFailed",e.DrinkPotion="DrinkPotion",e.OpenDoor="OpenDoor",e.OpenWoodBox="OpenWoodBox",e.BreakWoodBox="BreakWoodBox",e.PickUpItem="PickUpItem",e.InputCode="InputCode",e.InputCode2="InputCode2",e.LightTorch="LightTorch"}(o.SoundType||(o.SoundType={})),function(e){e.v100001000="v100001000",e.v100001001="v100001001",e.v100001002="v100001002",e.v100001003="v100001003",e.v100001004="v100001004",e.v100001005="v100001005",e.v100001006="v100001006",e.v100001007="v100001007",e.v100001008="v100001008",e.v100001009="v100001009",e.v100001010="v100001010",e.v100001011="v100001011",e.v100001012="v100001012",e.v100001013="v100001013",e.v100001014="v100001014",e.v100001015="v100001015",e.v100001016="v100001016",e.v100001017="v100001017",e.v100001018="v100001018",e.v100001019="v100001019",e.v100001020="v100001020",e.v100006001="v100006001",e.v100006002="v100006002",e.v100006003="v100006003",e.v100006004="v100006004",e.v100006005="v100006005",e.v100006006="v100006006",e.v100006007="v100006007",e.v100006008="v100006008",e.v100006009="v100006009",e.v100006010="v100006010",e.v100006011="v100006011",e.v100006012="v100006012",e.v100006013="v100006013",e.v100006014="v100006014",e.v100006015="v100006015",e.v100006016="v100006016",e.v100006017="v100006017",e.v100006018="v100006018",e.v100006019="v100006019",e.v100006020="v100006020",e.v100006021="v100006021",e.v100006022="v100006022",e.v100006023="v100006023",e.v100006024="v100006024",e.v100006025="v100006025",e.v100007001="v100007001",e.v100007002="v100007002",e.v100007003="v100007003",e.v100007004="v100007004",e.v100007005="v100007005",e.v100007006="v100007006",e.v100007007="v100007007",e.v100007008="v100007008",e.v100007009="v100007009",e.v100007010="v100007010",e.v100007011="v100007011",e.v100007012="v100007012",e.v100007013="v100007013",e.v100007014="v100007014",e.v100007015="v100007015",e.v100007016="v100007016",e.v100007017="v100007017",e.v100007018="v100007018",e.v100007019="v100007019",e.v100007020="v100007020",e.v100007021="v100007021",e.v100007022="v100007022",e.v100007023="v100007023",e.v100007024="v100007024",e.v100007025="v100007025",e.v200106020="v200106020",e.v200106021="v200106021",e.v200106022="v200106022",e.v200206020="v200206020",e.v200206021="v200206021",e.v200206022="v200206022"}(o.VocalType||(o.VocalType={})),cc._RF.pop()},{}],CHS:[function(e,t){"use strict";cc._RF.push(t,"c3e096S315LHoDdMv9wqHl9","CHS"),t.exports={"Vanilla Forest":"\u9999\u8349\u68ee\u6797","Dilapidated Castle":"\u7834\u65e7\u7684\u57ce\u5821","Castle Room":"\u57ce\u5821\u623f\u95f4","Secret Chamber":"\u5bc6\u5ba4","Rainbow Valley":"\u5f69\u8679\u8c37","Abandoned Herb Shop":"\u8352\u5e9f\u7684\u8349\u836f\u5e97","Garden Labyrinth":"\u82b1\u56ed\u8ff7\u5bab","Crystal Cave":"\u6c34\u6676\u6d1e\u7a74",Resume:"\u56de\u5230\u6e38\u620f",Save:"\u5b58\u6863",Load:"\u8bfb\u6863",BackToTitle:"\u56de\u5230\u6807\u9898",ExitGame:"\u5173\u95ed\u6e38\u620f",Combine:"\u5408\u6210",DemoOver:"\u8bd5\u73a9\u5185\u5bb9\u5230\u6b64\u7ed3\u675f \u70b9\u51fb\u6309\u94ae\u540e\u56de\u5230\u4e3b\u753b\u9762",DemoOverBtn:"\u56de\u4e3b\u753b\u9762"},cc._RF.pop()},{}],CHT:[function(e,t){"use strict";cc._RF.push(t,"78916PVh8ZCC4B6DcItfFP+","CHT"),t.exports={"Vanilla Forest":"\u9999\u8349\u68ee\u6797","Dilapidated Castle":"\u7834\u820a\u7684\u57ce\u5821","Castle Room":"\u57ce\u5821\u623f\u9593","Secret Chamber":"\u5bc6\u5ba4","Rainbow Valley":"\u5f69\u8679\u8c37","Abandoned Herb Shop":"\u8352\u5ee2\u7684\u8349\u85e5\u5e97","Garden Labyrinth":"\u82b1\u5712\u8ff7\u5bae","Crystal Cave":"\u6c34\u6676\u6d1e\u7a74",Resume:"\u56de\u5230\u904a\u6232",Save:"\u5b58\u6a94",Load:"\u8b80\u6a94",BackToTitle:"\u56de\u5230\u6a19\u984c",ExitGame:"\u95dc\u9589\u904a\u6232",Combine:"\u5408\u6210",DemoOver:"\u8a66\u73a9\u5185\u5bb9\u5230\u6b64\u7d50\u675f \u9ede\u64ca\u6309\u9215\u5f8c\u56de\u5230\u4e3b\u756b\u9762",DemoOverBtn:"\u56de\u4e3b\u756b\u9762"},cc._RF.pop()},{}],CSV:[function(e,t){"use strict";cc._RF.push(t,"fd7b8FD63VEi51yVIyMmUC8","CSV"),function(){var e=["|","^"],o=[",",";","\t","|","^"],n=["\r\n","\r","\n"];function i(e){var t=typeof e;return"function"===t||"object"===t&&!!e}var r=Array.isArray||function(e){return"[object Array]"===toString.call(e)};function a(e){return"string"==typeof e}function c(e){return 0==e||1==e}function l(e){return null!=e}function s(e,t){return l(e)?e:t}function u(e,t){for(var o=0,n=e.length;o<n&&!1!==t(e[o],o);o+=1);}function p(e){return"attrs["+e+"]"}function d(e,t){return isNaN(Number(e))?c(e)?"Boolean("+p(t)+" == true)":"String("+p(t)+")":"Number("+p(t)+")"}function f(e,t,o){var n=[];return 2==arguments.length?(e?r(e)?u(t,function(t,o){n.push(e[o]+"("+p(o)+")")}):u(t,function(e,t){n.push(d(e,t))}):u(t,function(e,t){n.push(p(t))}),n="return ["+n.join(",")+"]"):(e?r(e)?u(t,function(t,i){n.push('"'+o[i]+'": '+e[i]+"("+p(i)+")")}):u(t,function(e,t){n.push('"'+o[t]+'": '+d(e,t))}):u(t,function(e,t){n.push('"'+o[t]+'": '+p(t))}),n="return {"+n.join(",")+"}"),new Function("attrs",n)}function m(t,o){var n,i=0;return u(o,function(o){var r,a=o;-1!=e.indexOf(o)&&(a="\\"+a),(r=t.match(new RegExp(a,"g")))&&r.length>i&&(i=r.length,n=o)}),n||o[0]}var h=function(){function e(e,t){if(t||(t={}),r(e))this.mode="encode";else{if(!a(e))throw new Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:s(t.header,!1),cast:s(t.cast,!0)};var i=t.lineDelimiter||t.line,l=t.cellDelimiter||t.delimiter;this.isParser()?(this.options.lineDelimiter=i||m(this.data,n),this.options.cellDelimiter=l||m(this.data,o),this.data=c(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=i||"\r\n",this.options.cellDelimiter=l||",")}function t(e,t,o){e(new t(o))}function c(e,t){return e.slice(-t.length)!=t&&(e+=t),e}function l(e){return r(e)?"array":i(e)?"object":a(e)?"string":null==e?"null":"primitive"}return e.prototype.set=function(e,t){return this.options[e]=t},e.prototype.isParser=function(){return"parse"==this.mode},e.prototype.isEncoder=function(){return"encode"==this.mode},e.prototype.parse=function(e){if("parse"==this.mode){if(0===this.data.trim().length)return[];var o,n,i,a=this.data,c=this.options,l=c.header,s={cell:"",line:[]};e||(i=[],e=function(e){i.push(e)}),1==c.lineDelimiter.length&&(_=g);var u,p,d,m=a.length,h=c.cellDelimiter.charCodeAt(0),y=c.lineDelimiter.charCodeAt(c.lineDelimiter.length-1);for(v(),u=0,p=0;u<m;u++)d=a.charCodeAt(u),o.cell&&(o.cell=!1,34==d)?o.escaped=!0:o.escaped&&34==d?o.quote=!o.quote:(o.escaped&&o.quote||!o.escaped)&&(d==h?(g(s.cell+a.slice(p,u)),p=u+1):d==y&&(_(s.cell+a.slice(p,u)),p=u+1,C(),s.line=[]));return i||this}function v(){o={escaped:!1,quote:!1,cell:!0}}function g(e){s.line.push(o.escaped?e.slice(1,-1).replace(/""/g,'"'):e),s.cell="",v()}function _(e){g(e.slice(0,1-c.lineDelimiter.length))}function C(){l?r(l)?(n=f(c.cast,s.line,l),(C=function(){t(e,n,s.line)})()):l=s.line:(n||(n=f(c.cast,s.line)),(C=function(){t(e,n,s.line)})())}},e.prototype.serialize={object:function(e){var t=this,o=Object.keys(e),n=Array(o.length);return u(o,function(o,i){n[i]=t[l(e[o])](e[o])}),n},array:function(e){var t=this,o=Array(e.length);return u(e,function(e,n){o[n]=t[l(e)](e)}),o},string:function(e){return'"'+String(e).replace(/"/g,'""')+'"'},null:function(){return""},primitive:function(e){return e}},e.prototype.encode=function(e){if("encode"==this.mode){if(0==this.data.length)return"";var t,o,n=this.data,i=this.options,a=i.header,c=n[0],s=this.serialize,p=0;e||(o=Array(n.length),e=function(e,t){o[t+p]=e}),a&&(r(a)||(a=t=Object.keys(c)),e(m(s.array(a)),0),p=1);var d,f=l(c);return"array"==f?(r(i.cast)?(d=Array(i.cast.length),u(i.cast,function(e,t){d[t]=e.toLowerCase()})):(d=Array(c.length),u(c,function(e,t){d[t]=l(e)})),u(n,function(t,o){var n=Array(d.length);u(t,function(e,t){n[t]=s[d[t]](e)}),e(m(n),o)})):"object"==f&&(t=Object.keys(c),r(i.cast)?(d=Array(i.cast.length),u(i.cast,function(e,t){d[t]=e.toLowerCase()})):(d=Array(t.length),u(t,function(e,t){d[t]=l(c[e])})),u(n,function(o,n){var i=Array(t.length);u(t,function(e,t){i[t]=s[d[t]](o[e])}),e(m(i),n)})),o?o.join(i.lineDelimiter):this}function m(e){return e.join(i.cellDelimiter)}},e.prototype.forEach=function(e){return this[this.mode](e)},e}();h.parse=function(e,t){return new h(e,t).parse()},h.encode=function(e,t){return new h(e,t).encode()},h.forEach=function(e,t,o){return 2==arguments.length&&(o=t),new h(e,t).forEach(o)},"function"==typeof define&&define.amd?define("CSV",[],function(){return h}):"object"==typeof t&&t.exports?t.exports=h:window&&(window.CSV=h)}(),cc._RF.pop()},{}],CocosExtension:[function(e,t,o){"use strict";cc._RF.push(t,"c6520EnsPBMzqHTztXMoCC2","CocosExtension"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./CocosUtil");Array.prototype.remove=function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.has=function(e){return-1!==this.indexOf(e)},Array.prototype.random=function(){return this[this.randomIndex()]},Array.prototype.randomIndex=function(){return n.CocosUtil.randomRangeInt(0,this.length-1)},Number.prototype.toPrecisionf=function(e){var t=Math.pow(10,e);return Math.round(this*t)/t},Number.prototype.toPrecisionStr=function(e){return void 0===e&&(e=2),this.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e})},String.prototype.toInt=function(){var e=this.replace(/,/g,"");return Number.parseInt(e)},String.prototype.toNumber=function(){var e=this.replace(/,/g,"");return Number.parseFloat(e)},Node.prototype.removeAllChild=function(){for(;this.childElementCount>0;)this.removeChild(this.firstChild)},cc.Vec2.prototype.random=function(){return n.CocosUtil.randomRange(this.x,this.y)},cc.Vec2.prototype.randomInt=function(){return n.CocosUtil.randomRangeInt(this.x,this.y)},cc._RF.pop()},{"./CocosUtil":"CocosUtil"}],CocosUtil:[function(e,t,o){"use strict";cc._RF.push(t,"2770covpM1Bx6hfJnDK/7RJ","CocosUtil");var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(t){r(t)}}function c(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.CocosUtil=void 0;var r=function(){function e(){}return e.noRepeatRandomIntengers=function(e,t,o){var n=[];if(o>t-e)return cc.log("count is greater than number range!"),n;for(var i=Array.from(Array(t-e+1).keys()).map(function(t){return t+e});n.length<o;){var r=i.random();i.remove(r),n.push(r)}return n},e.randomRangeInt=function(e,t){return Math.round(this.randomRange(e,t))},e.randomRange=function(e,t){var o=cc.misc.lerp(e,t,Math.random());return this.clamp(e,t,o)},e.clamp=function(e,t,o){return o=Math.max(e,o),Math.min(t,o)},e.convertToNodePosition=function(e,t){var o=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(o)},e.loadResDirSync=function(e,t){return void 0===t&&(t=cc.Asset),n(this,void 0,Promise,function(){return i(this,function(){return console.log(e),[2,new Promise(function(o,n){cc.loader.loadResDir(e,t,function(e,t){e&&n(e),o(t)})})]})})},e.loadResSync=function(e,t){return void 0===t&&(t=cc.Asset),n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(o,n){cc.loader.loadRes(e,t,function(e,t){e&&n(e),o(t)})})]})})},e.toInterface=function(e){return e},e.isEnum=function(e,t){return Object.values(t).includes(e)},e.deepCopy=function(t){var o;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(o=new Date).setTime(t.getTime()),o;if(t instanceof Array){o=[];for(var n=0,i=t.length;n<i;n++)o[n]=e.deepCopy(t[n]);return o}if(t instanceof Object){for(var r in o={},t)t.hasOwnProperty(r)&&(o[r]=e.deepCopy(t[r]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")},e}();o.CocosUtil=r,cc._RF.pop()},{}],ComebineSystem:[function(e,t,o){"use strict";cc._RF.push(t,"b6935a+4rpKNoZ5Y+c/QwAp","ComebineSystem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../i18n/data/i18n"),c=e("./Audio/AudioManager"),l=e("./Audio/AudioType"),s=e("./EventSystem"),u=e("./GameManager"),p=e("./item"),d=cc._decorator,f=d.ccclass,m=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CombineSwitch=null,t.CombinePage=null,t.Slot_left=null,t.Slot_right=null,t.Slot_leftCover=null,t.Slot_rightCover=null,t.Result=null,t.Confirm=null,t.btn_close=null,t.combineFailed=null,t.combineSuccess=null,t.onClosePage=function(){c.AudioManager.playSound(l.SoundType.ClickButton),t.CombinePage.active=!1,t.clearSlot(),t.Slot_rightCover.active=!1,t.Slot_leftCover.active=!1},t}return i(t,e),t.prototype.changeitem=function(e){if(0!=e.children.length){var t=e.children[0];t.parent=u.default.GM.itemBag.ItemBagPage_itmesRoot,t.setPosition(0,0)}},t.prototype.start=function(){var e=this;this.combineFailed=this.CombinePage.getChildByName("combieFailed"),this.btn_close=this.CombinePage.getChildByName("Close"),this.btn_close.on("click",this.onClosePage),this.Slot_left=this.CombinePage.getChildByName("item_first"),this.Slot_right=this.CombinePage.getChildByName("item_second"),this.Slot_leftCover=this.CombinePage.getChildByName("item_first_cover"),this.Slot_rightCover=this.CombinePage.getChildByName("item_second_cover"),this.Result=this.CombinePage.getChildByName("Result"),this.Confirm=this.CombinePage.getChildByName("Confirm").getComponent(cc.Button),this.Slot_leftCover.on("click",function(){e.changeitem(e.Slot_left),e.Slot_leftCover.active=!1}),this.Slot_rightCover.on("click",function(){e.changeitem(e.Slot_right),e.Slot_rightCover.active=!1}),this.CombineSwitch.node.on("click",function(){var t=!e.CombinePage.active;c.AudioManager.playSound(l.SoundType.ClickButton),0==t&&e.clearSlot(),u.default.GM.RoadMap.selectLevelScene.active=!1,u.default.GM.talk.SummonPage.active=!1,e.CombinePage.active=t}),this.Slot_left.on("click",function(){null!=u.default.GM.itemBag.selectItem&&(u.default.GM.itemBag.selectItem.node.parent=e.Slot_left,u.default.GM.itemBag.selectItem.node.setPosition(0,0),u.default.GM.itemBag.selectItem.node.setContentSize(e.Slot_left.getContentSize()),u.default.GM.itemBag.selectItem.node.color=cc.color(255,255,255),e.Slot_leftCover.active=!0,u.default.GM.itemBag.selectItem=null)}),this.Slot_right.on("click",function(){null!=u.default.GM.itemBag.selectItem&&(u.default.GM.itemBag.selectItem.node.parent=e.Slot_right,u.default.GM.itemBag.selectItem.node.setPosition(0,0),u.default.GM.itemBag.selectItem.node.setContentSize(e.Slot_right.getContentSize()),u.default.GM.itemBag.selectItem.node.color=cc.color(255,255,255),e.Slot_rightCover.active=!0,u.default.GM.itemBag.selectItem=null)}),this.Confirm.node.getComponentInChildren(cc.Label).string=a.t("Combine"),this.Confirm.node.on("click",function(){if(c.AudioManager.playSound(l.SoundType.ClickButton),0!=e.Slot_left.children.length&&0!=e.Slot_right.children.length){var t=e.Slot_left.children[0].getComponent(p.default),o=e.Slot_right.children[0].getComponent(p.default);t.combinePair==o.instance.name?(c.AudioManager.playSound(l.SoundType.CombineSuccessful),e.combineSuccess.node.opacity=255,e.combineSuccess.setAnimation(0,"light2",!1),e.combineSuccess.setCompleteListener(function(){e.combineSuccess.node.opacity=0}),t.node.parent=u.default.GM.itemsController.PoolNode,t.node.setPosition(0,0),o.node.parent=u.default.GM.itemsController.PoolNode,o.node.setPosition(0,0),e.scheduleOnce(function(){var o=u.default.GM.itemsController.PoolMap.get(t.combineResult),n=u.default.GM.itemsController.IconMap.get(t.combineResult);o.getComponent(cc.Sprite).spriteFrame=n,o.node.active=!0,o.node.parent=e.Result,o.node.setPosition(0,0),o.node.setContentSize(o.node.parent.getContentSize()),o.node.once("click",function(){s.EventSystem.emit(s.EventType.USER_GET_ITEM,o.node)})},.5)):e.play_combineFailed()}})},t.prototype.play_combineFailed=function(){c.AudioManager.playSound(l.SoundType.CombineFailed),cc.tween(this.combineFailed).to(.05,{opacity:255}).to(.25,{opacity:0}).start()},t.prototype.TurnBackItem=function(){this.Slot_left.children.length>0&&(this.Slot_left.children[0].parent=u.default.GM.itemBag.ItemBagPage_itmesRoot),this.Slot_right.children.length>0&&(this.Slot_right.children[0].parent=u.default.GM.itemBag.ItemBagPage_itmesRoot)},t.prototype.clearSlot=function(){this.TurnBackItem(),this.Result.children.length>0&&this.Result.children[0].emit("click")},r([m(cc.Button)],t.prototype,"CombineSwitch",void 0),r([m(cc.Node)],t.prototype,"CombinePage",void 0),r([m(sp.Skeleton)],t.prototype,"combineSuccess",void 0),r([f],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../i18n/data/i18n":"i18n","./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./EventSystem":"EventSystem","./GameManager":"GameManager","./item":"item"}],DebugUtil:[function(e,t,o){"use strict";cc._RF.push(t,"dede2waE79DUKEhStLU/AnG","DebugUtil");var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DebugUtil=void 0;var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.logCollapse=function(e,t){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n]},e.trace=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.time=function(){},n([r],e)}());o.DebugUtil=a,cc._RF.pop()},{}],DramaData:[function(e,t,o){"use strict";cc._RF.push(t,"459416LNE1HiK7Y7BkP352V","DramaData"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./GameManager"),i=e("./languageSelect");o.default=function(e){var t=this;this.film_filterAllData=[],this.filmScriptName=[],this.filmScriptDailog=[],this.filmScriptIdx=0,this.filmPageCount=0,this.filmSpineOffset=[],this.filmMusic=[],this.filmVoice=[],this.DramaFolder="DramaData/",cc.loader.loadRes(""+this.DramaFolder+i.default.language+"/"+e,function(o,r){o&&console.error("Drama csv Load error "+t.DramaFolder+i.default.language+"/"+e);var a=n.default.CSVToArray(r.text,",");a[0].shift(),a[1].shift(),t.film_filterAllData=a,t.filmPageCount=t.film_filterAllData[0].length-1,t.filmScriptName=t.film_filterAllData[0],t.filmScriptDailog=t.film_filterAllData[1],null!=a[2]&&(a[2].shift(),t.filmSpineName=t.film_filterAllData[2]),null!=a[3]&&(a[3].shift(),t.filmSpineMotion=t.film_filterAllData[3]),null!=a[4]&&(a[4].shift(),t.filmMusic=t.film_filterAllData[4]),null!=a[5]&&(a[5].shift(),t.filmVoice=t.film_filterAllData[5])})},cc._RF.pop()},{"./GameManager":"GameManager","./languageSelect":"languageSelect"}],DramaPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"434b6RNpApEcLzSoarnBqkl","DramaPlayer");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../i18n/data/i18n"),c=e("./Audio/AudioManager"),l=e("./Audio/AudioType"),s=e("./DramaData"),u=e("./EventSystem"),p=e("./GameManager"),d=e("./languageSelect"),f=e("./subtitle_player"),m=cc._decorator,h=m.ccclass,y=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.DramaSceneMap=new Map,t.film_filterAllData=[],t.filmCharacterName=[],t.filmScriptDailog=[],t.filmScriptIdx=0,t.filmPageCount=0,t.filmSpineOffset=[],t.isPlayCG=!1,t.CharacterName_lbl=null,t.next=null,t.previou=null,t.Character_node=null,t.currentPlaySpineName="",t.DaiLogBG=null,t.lastPlayDramaName="",t.frame=null,t.MovieBG=null,t.DemoOver=null,t.TouchScreen=function(){t.onNext(),console.log("touchScreen")},t.onPreviou=function(){if(t.filmScriptIdx<t.filmPageCount&&(t.next.active=!0),t.filmScriptIdx-1==0&&(t.previou.active=!1),!(t.filmScriptIdx-1<0)){t.filmScriptIdx-=1;var e=t.filmCharacterName[t.filmScriptIdx],o=t.filmScriptDailog[t.filmScriptIdx];u.EventSystem.emit(u.EventType.RecevieDramaDialog,e,o);var n=t.filmSpineName[t.filmScriptIdx],i=t.filmSpineMotion[t.filmScriptIdx];null!=t.Character_node.getChildByName(n)&&null!=i&&""!=i&&(t.Character_node.getChildByName(n).active=!0,t.Character_node.getChildByName(n).getComponent(sp.Skeleton).setAnimation(0,i,!0))}},t.onNext=function(){if(t.filmScriptIdx+1==t.filmPageCount&&(t.next.active=!1),t.filmScriptIdx+1>0&&(t.previou.active=!0),t.filmScriptIdx+1>t.filmPageCount)return t.closeDramaPlayer(),"c9999"==t.lastPlayDramaName?void u.EventSystem.emit(u.EventType.DemoOver):("c0231"==t.lastPlayDramaName&&u.EventSystem.emit(u.EventType.LoadDrama,"c9999",!0),"c0100"==t.lastPlayDramaName&&u.EventSystem.emit(u.EventType.newGameTip),void("c0010"==t.lastPlayDramaName&&u.EventSystem.emit(u.EventType.SkipIntro)));t.filmScriptIdx+=1;var e=t.filmCharacterName[t.filmScriptIdx],o=t.filmScriptDailog[t.filmScriptIdx];u.EventSystem.emit(u.EventType.RecevieDramaDialog,e,o);var n=t.filmSpineName[t.filmScriptIdx];if(""!=n&&null!=t.Character_node.getChildByName(n)){t.EnableMovieFrame(!0),t.currentPlaySpineName!=n&&(t.Character_node.children.forEach(function(e){e.name==n?t.Character_node.getChildByName(n).active=!0:e.active=!1}),t.currentPlaySpineName=n);var i=t.filmSpineMotion[t.filmScriptIdx];if(null!=i||""!=i){var r=i.split(",");if(r.length>1){var a=t.Character_node.getChildByName(n).getComponent(sp.Skeleton);a.setAnimation(0,r[0],!1);for(var s=1;s<r.length;s++){var p=s==r.length-1;a.addAnimation(0,r[s],p)}}else t.Character_node.getChildByName(n).getComponent(sp.Skeleton).setAnimation(0,r[0],!0)}var d=t.filmMusic[t.filmScriptIdx];null!=d&&null!=d&&""!=d&&c.AudioManager.playMusic(l.MusicType[t.filmMusic[t.filmScriptIdx]]),null!=t.filmVoice[t.filmScriptIdx]&&""!=t.filmVoice[t.filmScriptIdx]&&(console.log(t.filmVoice),console.log(t.filmVoice[t.filmScriptIdx]),c.AudioManager.playVocal(l.VocalType[t.filmVoice[t.filmScriptIdx]]))}},t.closeDramaPlayer=function(){t.node.active=!1,t.EnableMovieFrame(!1),t.Character_node.active=!1,t.Character_node.children.forEach(function(e){e.active=!1}),cc.audioEngine.stopAllEffects()},t}return i(t,e),t.prototype.start=function(){},t.prototype.resetDramaPlayerData=function(){this.film_filterAllData=[],this.filmCharacterName=[],this.filmScriptDailog=[],this.filmScriptIdx=0,this.filmPageCount=0,this.filmSpineMotion=[],this.filmSpineName=[],this.filmSpineOffset=[],this.filmMusic=[],this.filmVoice=[],this.previou.active=!1,this.CharacterName_lbl.string="",this.infoData="",this.infoDataChars=[],this.CharIndex=0,this.timeCount=0,this.touchEnable=!1,this.DisplayLabel.string=""},t.prototype.init=function(){var e=this;this.DisplayLabel=this.root.getChildByName("text").getComponent(cc.Label),this.CharacterName_lbl=this.root.getChildByName("NameText").getComponent(cc.Label),this.previou=this.root.getChildByName("previou"),this.next=this.root.getChildByName("next"),this.Character_node=this.node.getChildByName("Characters"),this.DaiLogBG=this.node.getChildByName("BackGround"),this.MovieBG=this.node.getChildByName("MovieBackGround"),this.frame=this.node.getChildByName("frame"),u.EventSystem.on(u.EventType.Close_DramaPlayer,this.closeDramaPlayer),u.EventSystem.on(u.EventType.DemoOver,function(){e.DemoOver.active=!0,e.DemoOver.getChildByName("TipLbl").getComponent(cc.Label).string=a.t("DemoOver"),e.DemoOver.getChildByName("DemoOverBtn").getComponentInChildren(cc.Label).string=a.t("DemoOverBtn"),cc.director.preloadScene("Title",function(e,t,o){console.log("\u52a0\u8f09\u9032\u5ea6 "+e+"/"+t+" : "+o.url)},function(e){e&&console.log("\u52a0\u8f09\u5931\u6557")}),e.DemoOver.getComponentInChildren(cc.Button).node.once("click",function(){cc.director.loadScene("Title"),d.default.self.node.opacity=255})}),u.EventSystem.on(u.EventType.RecevieDramaDialog,function(t,o){e.resetPlay(),e.clean_tempString(),e.infoData=o,e.CharacterName_lbl.string=t,e.node.opacity=255,e.PlaySubtitle()}),this.root.on("click",this.TouchScreen),this.next.on("click",this.onNext),this.previou.on("click",this.onPreviou),this.DramaSceneMap.set("c0010",new s.default("c0010")),this.DramaSceneMap.set("c0100",new s.default("c0100")),this.DramaSceneMap.set("c0110",new s.default("c0110")),this.DramaSceneMap.set("c0120",new s.default("c0120")),this.DramaSceneMap.set("c01201",new s.default("c01201")),this.DramaSceneMap.set("c0122",new s.default("c0122")),this.DramaSceneMap.set("c0130",new s.default("c0130")),this.DramaSceneMap.set("c0200",new s.default("c0200")),this.DramaSceneMap.set("c0210",new s.default("c0210")),this.DramaSceneMap.set("c0220",new s.default("c0220")),this.DramaSceneMap.set("c0221",new s.default("c0221")),this.DramaSceneMap.set("c0230",new s.default("c0230")),this.DramaSceneMap.set("c0231",new s.default("c0231")),this.DramaSceneMap.set("c9999",new s.default("c9999")),u.EventSystem.on(u.EventType.LoadDrama,function(t,o){void 0===o&&(o=!1),e.readDrama(t,o),p.default.GM.CombieSystem.CombinePage.active=!1,p.default.GM.RoadMap.selectLevelScene.active=!1,p.default.GM.talk.SummonPage.active=!1,p.default.GM.itemBag.onCloseBag(),u.EventSystem.emit(u.EventType.Close_Subtitle)}),u.EventSystem.on(u.EventType.NPC_Tips,function(t,o){void 0===o&&(o=!0),e.resetDramaPlayerData(),e.readDrama_Tip(t,o),p.default.GM.CombieSystem.CombinePage.active=!1,p.default.GM.RoadMap.selectLevelScene.active=!1,p.default.GM.talk.SummonPage.active=!1,p.default.GM.itemBag.onCloseBag(),u.EventSystem.emit(u.EventType.Close_Subtitle)})},t.prototype.collectCharactersSpineComponent=function(){cc.find("Canvas/Mask/GameEndScene/Characters").children},t.prototype.readDrama=function(e,t){void 0===t&&(t=!1),this.node.active=!0;var o=this.DramaSceneMap.get(e);this.lastPlayDramaName=e,this.film_filterAllData=o.film_filterAllData,this.filmCharacterName=o.filmScriptName,this.filmScriptDailog=o.filmScriptDailog,this.filmScriptIdx=0,this.filmPageCount=o.filmPageCount,this.filmSpineMotion=o.filmSpineMotion,this.filmSpineName=o.filmSpineName,null!=o.filmMusic&&(this.filmMusic=o.filmMusic),null!=o.filmVoice&&(this.filmVoice=o.filmVoice),""!=this.filmSpineName[0]&&null!=this.filmSpineName[0]&&(this.Character_node.active=!0,this.Character_node.getChildByName(this.filmSpineName[0]).active=!0,this.Character_node.getChildByName(this.filmSpineName[0]).getComponent(sp.Skeleton).setAnimation(0,this.filmSpineMotion[0],!0)),this.previou.active=!1,this.next.active=!0,u.EventSystem.emit(u.EventType.RecevieDramaDialog,this.filmCharacterName[0],this.film_filterAllData[1][this.filmScriptIdx])},t.prototype.EnableMovieFrame=function(e){this.MovieBG.active=e,this.frame.active=e},t.prototype.EnableDailogFrame=function(e){this.DaiLogBG.active=e},t.prototype.CloseFrame=function(){this.MovieBG.active=!1,this.frame.active=!1,this.DaiLogBG.active=!1},t.prototype.readDrama_Tip=function(e,t,o,n){void 0===t&&(t=!0),void 0===o&&(o="Norn"),void 0===n&&(n="idling1"),this.node.active=!0;var i=this.DramaSceneMap.get(e);null!=i&&(this.film_filterAllData=i.film_filterAllData,this.filmCharacterName=i.filmScriptName,this.filmScriptDailog=i.filmScriptDailog,this.filmScriptIdx=0,this.filmPageCount=i.filmPageCount,this.filmSpineMotion=i.filmSpineMotion,this.filmSpineName=i.filmSpineName,console.log("\n            Data=> "+i+"\n            film_filterAllData=> "+this.film_filterAllData+"\n            filmScriptName=> "+this.filmCharacterName+"\n            filmScriptDailog=> "+this.filmScriptDailog+"\n            filmScriptIdx=> "+this.filmScriptIdx+"\n            filmPageCount=> "+this.filmPageCount+"\n            filmSpineMotion=> "+this.filmSpineMotion+"\n            filmSpineName=> "+this.filmSpineName+"\n            "),t&&(this.Character_node.active=!0,this.EnableMovieFrame(t),this.Character_node.getChildByName(o).active=!0,this.Character_node.getChildByName(o).getComponent(sp.Skeleton).setAnimation(0,n,!0)),this.previou.active=!1,this.next.active=!0,u.EventSystem.emit(u.EventType.RecevieDramaDialog,this.filmCharacterName[0],this.film_filterAllData[1][this.filmScriptIdx]))},t.prototype.PlaySubtitle=function(){this.resetPlay();for(var e=0;e<this.infoData.length;e++)this.infoDataChars[e]=this.infoData[e];this.touchEnable=!0},t.prototype.clean_tempString=function(){this.infoData="",this.infoDataChars=[],this.DisplayLabel.string=""},t.prototype.update=function(e){0!=this.touchEnable&&(this.timeCount+=e,this.timeCount>this.delaytime&&(this.DisplayLabel.string+=this.infoDataChars[this.CharIndex],this.CharIndex+1<this.infoDataChars.length?(this.CharIndex+=1,this.timeCount=0):this.resetPlay()))},t.prototype.resetPlay=function(){this.CharIndex=0,this.timeCount=0,this.touchEnable=!1},r([y(cc.Node)],t.prototype,"root",void 0),r([y(cc.Node)],t.prototype,"DemoOver",void 0),r([h],t)}(f.default);o.default=v,cc._RF.pop()},{"../i18n/data/i18n":"i18n","./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./DramaData":"DramaData","./EventSystem":"EventSystem","./GameManager":"GameManager","./languageSelect":"languageSelect","./subtitle_player":"subtitle_player"}],EN:[function(e,t){"use strict";cc._RF.push(t,"2ec67nT7VtEkpJfN5zoIelf","EN"),t.exports={"Vanilla Forest":"Vanilla\nForest","Dilapidated Castle":"Dilapidated\nCastle","Castle Room":"Castle\nRoom","Secret Chamber":"Secret\nChamber","Rainbow Valley":"Rainbow\nValley","Abandoned Herb Shop":"Abandoned Herb\nShop","Garden Labyrinth":"Garden\nLabyrinth","Crystal Cave":"Crystal\nCave",Resume:"Resume",Save:"Save",Load:"Load",BackToTitle:"BackToTitle",ExitGame:"ExitGame",Combine:"Combine",DemoOver:"The trial content ends here. Click the button to return to the main screen\u3002",DemoOverBtn:"Back Main Screen"},cc._RF.pop()},{}],EventSystem:[function(e,t,o){"use strict";cc._RF.push(t,"36002bcA/JBO405yufys+8z","EventSystem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EventSystem=o.EventType=void 0;var a=cc._decorator,c=a.ccclass;a.property,function(e){e.Close_Subtitle="Clear_Subtitle",e.ReceiveSubtitle="ReceiveSubtitle",e.USER_CLICK_BAG_ITEM="USER_CLICK_BAG_ITEM",e.USER_GET_ITEM="USER_GET_ITEM",e.RecevieDramaDialog="RecevieDramaDialog",e.CLOSE_BAG="CLOSE_BAG",e.ChangeMap="ChangeMap",e.LoadDrama="LoadDrama",e.onTeleport="onTeleport",e.NPC_Tips="NPC_Tips",e.unlockCharacter="unlockCharacter",e.DemoOver="DemoOver",e.Close_DramaPlayer="Close_DramaPlayer",e.newGameTip="newGameTip",e.SkipIntro="SkipIntro",e.GameReady="GameReady"}(o.EventType||(o.EventType={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return i(t,e),o=t,Object.defineProperty(t,"Node",{get:function(){return this._Instance.node},enumerable:!1,configurable:!0}),t.on=function(e,t,n,i){return o.Node.on(e,t,n,i)},t.off=function(e,t,n,i){o.Node.off(e,t,n,i)},t.targetOff=function(e){o.Node.targetOff(e)},t.emit=function(e,t,n,i,r,a){o.Node.emit(e,t,n,i,r,a)},t.prototype.onLoad=function(){o._Instance=this},o=r([c],t)}(cc.Component);o.EventSystem=l,cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"14fccWsFXJJHI7IVuL2Fvvf","GameManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./EventSystem"),c=e("./ItemBag"),l=e("./itemsController"),s=e("./DramaPlayer"),u=e("./ComebineSystem"),p=e("./RoadMap"),d=e("./Talk"),f=e("./Audio/AudioManager"),m=e("./Audio/AudioType"),h=e("./subtitle_player"),y=e("./languageSelect"),v=e("./Menu/MenuControler"),g=cc._decorator,_=g.ccclass,C=g.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._gm=null,t.hasResult=!1,t.AudioReady=!1,t.GameReady=!1,t.isGameReady=!1,t.isReadySend=!1,t.language_PAYS="",t.language_LINE="",t.isNewGame=!0,t.currentMap="",t.RoadMap=null,t.DramaPlayer=null,t.itemsController=null,t.itemBag=null,t.empty_BG=null,t.CombieSystem=null,t.talk=null,t.newGameCutScene=null,t.newGameCutSceneWhiteLight=null,t.subTitle=null,t.TutorialBtn=null,t.MenuControler=null,t.itemTexturesPath="itemsList",t.c0100_CutSceneAction=function(){f.AudioManager.playMusic(m.MusicType.VanillaForest),t.newGameCutScene.active=!0,cc.tween(t.newGameCutScene).call(function(){cc.tween(t.newGameCutSceneWhiteLight).to(2,{opacity:0}).start()}).delay(2).to(3,{position:cc.v3(0,540,0)}).call(function(){o.GM.DramaPlayer.root.active=!0,a.EventSystem.emit(a.EventType.LoadDrama,"c0100")}).start()},t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){var e=this;cc.Canvas.instance.designResolution=new cc.Size(1920,1080),cc.Canvas.instance.fitWidth=!0,cc.Canvas.instance.fitHeight=!0,this._gm=this.node.getComponent(o),o.GM=this._gm,a.EventSystem.on(a.EventType.newGameTip,function(){e.blinkBtn(e.TutorialBtn),o.GM.RoadMap.selectLevelScene.active=!0})},t.prototype.blinkBtn=function(e){cc.tween(e).repeatForever(cc.tween().to(.5,{color:cc.color(155,155,155)}).to(.5,{color:cc.color(255,255,255)}).start()).start()},t.prototype.start=function(){var e=this;y.default.init(),this.MenuControler.init(),this.talk.init(),this.itemsController.itemPool_init(this.itemTexturesPath+"/"+y.default.language+"/itemsList"),this.subTitle.init(),this.DramaPlayer.init(),this.RoadMap.init(function(){e.RoadMap.onLoad_RoadData(),e.RoadMap.currentMap=p.default.RoadMapData.get("s0100"),e.RoadMap.updateList(e.RoadMap.currentMap)}),a.EventSystem.on(a.EventType.SkipIntro,function(){e.RoadMap.LevelScene.getChildByName("s0010").active=!1,e.RoadMap.LevelScene.getChildByName("s0100").active=!0,e.c0100_CutSceneAction()}),this.scheduleOnce(function(){a.EventSystem.emit(a.EventType.LoadDrama,"c0010",!0),o.GM.DramaPlayer.root.active=!0,f.AudioManager.playMusic(m.MusicType.PlantRoom)},1)},t.CSVToArray=function(e,t){t=t||",";for(var o=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),n=[[]],i=null;i=o.exec(e);){var r=i[1];if(r.length&&r!=t&&n.push([]),i[2])var a=i[2].replace(new RegExp('""',"g"),'"');else a=i[3];n[n.length-1].push(a)}return n.length>0&&n.pop(),n},t.GM=null,r([C(o)],t.prototype,"_gm",void 0),r([C(p.default)],t.prototype,"RoadMap",void 0),r([C(s.default)],t.prototype,"DramaPlayer",void 0),r([C(l.default)],t.prototype,"itemsController",void 0),r([C(c.default)],t.prototype,"itemBag",void 0),r([C(cc.Node)],t.prototype,"empty_BG",void 0),r([C(u.default)],t.prototype,"CombieSystem",void 0),r([C(d.default)],t.prototype,"talk",void 0),r([C(cc.Node)],t.prototype,"newGameCutScene",void 0),r([C(cc.Node)],t.prototype,"newGameCutSceneWhiteLight",void 0),r([C(h.default)],t.prototype,"subTitle",void 0),r([C(cc.Node)],t.prototype,"TutorialBtn",void 0),r([C(v.default)],t.prototype,"MenuControler",void 0),o=r([_],t)}(cc.Component);o.default=S,cc._RF.pop()},{"./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./ComebineSystem":"ComebineSystem","./DramaPlayer":"DramaPlayer","./EventSystem":"EventSystem","./ItemBag":"ItemBag","./Menu/MenuControler":"MenuControler","./RoadMap":"RoadMap","./Talk":"Talk","./itemsController":"itemsController","./languageSelect":"languageSelect","./subtitle_player":"subtitle_player"}],GameObjectPool:[function(e,t,o){"use strict";cc._RF.push(t,"e6543WLmRRBZrDD3/4vSQXZ","GameObjectPool");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./item"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pool=[],t}return i(t,e),t.prototype.start=function(){},r([s([a.default])],t.prototype,"pool",void 0),r([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./item":"item"}],GameStart:[function(e,t,o){"use strict";cc._RF.push(t,"6eb569i1MhGNr1cNkfVPaJa","GameStart");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(t){r(t)}}function c(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../Audio/AudioManager"),s=e("../languageSelect"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.newGame=null,t.WhiteMask=null,t.lbl_Loading=null,t.Turn=null,t.checkMusicLoaded=!1,t}return i(t,e),t.prototype.start=function(){var e=this;this.lbl_Loading.string="Loading...",cc.tween(this.Turn.node).repeatForever(cc.tween(this.Turn.node).by(1,{angle:-360})).start(),this.newGame.node.opacity=0,this.newGame.node.active=!1,cc.director.preloadScene("newGame",function(){},function(t){return a(e,void 0,void 0,function(){var e=this;return c(this,function(o){switch(o.label){case 0:return t&&console.log("\u52a0\u8f09\u5931\u6557"),[4,l.AudioManager.init()];case 1:return o.sent(),this.lbl_Loading.node.active=!1,this.Turn.node.active=!1,cc.tween(this.newGame.node).call(function(){e.newGame.node.active=!0}).to(3,{opacity:255}).start(),[2]}})})}),this.newGame.node.on("click",function(){s.default.self.node.opacity=0,cc.tween(e.newGame.node).repeat(5,cc.tween(e.newGame.node).to(.1,{opacity:105}).to(.1,{opacity:255}).start()).call(function(){cc.tween(e.WhiteMask).to(1,{opacity:255}).call(function(){cc.director.loadScene("newGame")}).start()}).start()})},r([d(cc.Button)],t.prototype,"newGame",void 0),r([d(cc.Node)],t.prototype,"WhiteMask",void 0),r([d(cc.Label)],t.prototype,"lbl_Loading",void 0),r([d(cc.Label)],t.prototype,"Turn",void 0),r([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../Audio/AudioManager":"AudioManager","../languageSelect":"languageSelect"}],IntroAction:[function(e,t,o){"use strict";cc._RF.push(t,"6e648HLN+1IAZSh+GmtVpjZ","IntroAction");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},r([c],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],ItemBag:[function(e,t,o){"use strict";cc._RF.push(t,"d0b24IdVk5B0LBjCGtfGm7b","ItemBag");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Audio/AudioManager"),c=e("./Audio/AudioType"),l=e("./EventSystem"),s=e("./GameManager"),u=e("./MouseListener"),p=e("./item"),d=cc._decorator,f=d.ccclass,m=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelectItemLabel=null,t.ItemBagPage_itmesRoot=null,t.openTrigger=null,t.itemLayout=null,t.BagItemsMap=new Map,t.launchBag=null,t.isItemOpen=!1,t._selectItem=null,t.onOpenBag=function(){cc.tween(t.launchBag).to(.2,{position:cc.v3(0,-460,0)}).call(function(){t.isItemOpen=!0}).start()},t.onCloseBag=function(){cc.tween(t.launchBag).to(.2,{position:cc.v3(0,-650,0)}).call(function(){t.isItemOpen=!1}).start()},t}return i(t,e),Object.defineProperty(t.prototype,"selectItem",{get:function(){return this._selectItem},set:function(e){this._selectItem=e,null!=this._selectItem?u.default.CursorTexture=this._selectItem.getComponent(cc.Sprite).spriteFrame:u.default.CursorTexture=null,this.SelectItemLabel.string=null!=e?e.instance.name:"null"},enumerable:!1,configurable:!0}),t.prototype.BagInit=function(){var e=this;this.ItemBagPage_itmesRoot=cc.find("Canvas/Mask/itemBag/launchbag/items"),this.itemLayout=this.ItemBagPage_itmesRoot.getComponent(cc.Layout),this.launchBag=this.node.getChildByName("launchbag"),this.openTrigger=cc.find("Canvas/Mask/itemBag/launchbag/onOpenTrigger"),this.openTrigger.on("click",function(){a.AudioManager.playSound(c.SoundType.ClickButton),0==e.isItemOpen?e.onOpenBag():e.isItemOpen&&e.onCloseBag()}),l.EventSystem.on(l.EventType.USER_GET_ITEM,function(t){e.BagItemsMap.set(t.name,t),t.parent=e.ItemBagPage_itmesRoot,t.y=0;var o=t.getComponent(p.default).instance.name,n=s.default.GM.itemsController.IconMap.get(o);t.getComponent(cc.Sprite).spriteFrame=n,t.getComponent(cc.Sprite).trim=!0,t.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,t.setContentSize(128,128),t.on("click",function(){"items"==t.parent.name&&l.EventSystem.emit(l.EventType.USER_CLICK_BAG_ITEM,t)})}),l.EventSystem.on(l.EventType.USER_CLICK_BAG_ITEM,function(t){a.AudioManager.playSound(c.SoundType.ClickButton),e.TagUserSelectItem(t)})},t.prototype.TagUserSelectItem=function(e){this.ItemBagPage_itmesRoot.children.forEach(function(e){e.color=cc.color(255,255,255)}),e.getComponent(p.default)==this.selectItem?this.selectItem=null:(this.selectItem=e.getComponent(p.default),this.selectItem.node.color=cc.color(100,100,100),l.EventSystem.emit(l.EventType.ReceiveSubtitle,this.selectItem))},t.prototype.returnSelectItemToBag=function(){this.ItemBagPage_itmesRoot.children.forEach(function(e){e.color=cc.color(255,255,255)}),this.selectItem=null},t.prototype.ItemUsed=function(){console.log("ItemUsed=> "+this.selectItem),this.selectItem.node.parent=s.default.GM.itemsController.PoolNode,this.ItemBagPage_itmesRoot.children.forEach(function(e){e.color=cc.color(255,255,255)}),this.selectItem=null},t.prototype.getItem=function(e,t){this.BagItemsMap.set(e,t)},t.prototype.update=function(){},r([m(cc.Label)],t.prototype,"SelectItemLabel",void 0),r([f],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./EventSystem":"EventSystem","./GameManager":"GameManager","./MouseListener":"MouseListener","./item":"item"}],JP:[function(e,t){"use strict";cc._RF.push(t,"1951c/JZ8hNC4rD6d7ybIRd","JP"),t.exports={"Vanilla Forest":"\u30d0\u30cb\u30e9\u306e\u68ee","Dilapidated Castle":"\u8001\u673d\u5316\u3057\u305f\u57ce","Castle Room":"\u57ce\u306e\u90e8\u5c4b","Secret Chamber":"\u5bc6\u5ba4","Rainbow Valley":"\u30ec\u30a4\u30f3\u30dc\u30fc\u306e\u8c37","Abandoned Herb Shop":"\u5ec3\u308c\u305f\u85ac\u8349\u5e97","Garden Labyrinth":"\u82b1\u306e\u8ff7\u8def","Crystal Cave":"\u30af\u30ea\u30b9\u30bf\u30eb\u306e\u6d1e\u7a9f",Resume:"\u30b2\u30fc\u30e0\u306b\u623b\u308b",Save:"\u4fdd\u5b58",Load:"\u8aad\u3080",BackToTitle:"\u30e1\u30cb\u30e5\u30fc\u306b\u623b\u308b",ExitGame:"\u30b2\u30fc\u30e0\u9589\u3058\u308b",Combine:"\u7d44\u307f\u5408",DemoOver:"\u304a\u8a66\u3057\u30b3\u30f3\u30c6\u30f3\u30c4\u306f\u3053\u3053\u3067\u7d42\u4e86\u3067\u3059\u3002 \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30e1\u30a4\u30f3\u753b\u9762\u306b\u623b\u308a\u307e\u3059\u3002",DemoOverBtn:"\u30e1\u30a4\u30f3\u753b\u9762\u306b\u623b\u308a\u307e\u3059\u3002"},cc._RF.pop()},{}],KR:[function(e,t){"use strict";cc._RF.push(t,"166dcE5lUpJjLQMPG4rnonc","KR"),t.exports={"Vanilla Forest":"\ubc14\ub2d0\ub77c \uc232","Dilapidated Castle":"\ub0a1\uc740 \uc131","Castle Room":"\uc131\uc758 \ubc29","Secret Chamber":"\ube44\ubc00\uc758 \ubc29","Rainbow Valley":"\ubb34\uc9c0\uac1c \uacc4\uace1","Abandoned Herb Shop":"\ubc84\ub824\uc9c4 \uc57d\ucd08 \uac00\uac8c","Garden Labyrinth":"\uaf43\uc758 \ubbf8\ub85c","Crystal Cave":"\ud06c\ub9ac\uc2a4\ud0c8 \ub3d9\uad74"},cc._RF.pop()},{}],LabelLocalized:[function(e,t){"use strict";cc._RF.push(t,"fdce8MIDGFLlpSsEui36ks2","LabelLocalized");var o=e("i18n");cc.Class({extends:cc.Label,properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this._sgNode&&(this._sgNode.setString(this.string),this._updateNodeSize())}},string:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return o.t(this.textKey)},set:function(){cc.warn("Please set label text key in Text Key property.")}}}}),cc._RF.pop()},{i18n:"i18n"}],Maze:[function(e,t,o){"use strict";cc._RF.push(t,"a8681jhbSRGkY3HvRpUKMWO","Maze");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Audio/AudioManager"),c=e("./Audio/AudioType"),l=e("./GameManager"),s=e("./RoadMap"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TriggerBtn=null,t.onCloseZoomPage=null,t.inputButton=[],t.ZoomPage_PassWord=null,t.Teleport=null,t.inputUI=null,t.unlock=null,t.thousand=0,t.Hundred=0,t.Ten=0,t.digital=0,t.password="5629",t.InputCode=[],t}return i(t,e),t.prototype.start=function(){var e=this,t=this.ZoomPage_PassWord,o=t.getChildByName("lock"),n=function(){a.AudioManager.playSound(c.SoundType.InputCode),5==e.thousand&&6==e.Hundred&&2==e.Ten&&9==e.digital&&(a.AudioManager.playSound(c.SoundType.InputCode2),e.unlock.active=!0,e.inputButton.forEach(function(e){e.node.off("click"),e.getComponentInChildren(cc.Label).node.color=cc.color(155,155,155)}),l.default.GM.DramaPlayer.readDrama("c0221",!1),s.default.RoadMapData.get("s0220").ForkShowUIList=[!0,!0])};this.inputButton[0].node.on("click",function(){var t=e.digital+=1;e.digital=t%10,e.inputButton[0].node.getComponentInChildren(cc.Label).string=e.digital.toString(),console.log(e.thousand+" "+e.Hundred+" "+e.Ten+" "+e.digital),n()}),this.inputButton[1].node.on("click",function(){var t=e.Ten+=1;e.Ten=t%10,e.inputButton[1].node.getComponentInChildren(cc.Label).string=e.Ten.toString(),console.log(e.thousand+" "+e.Hundred+" "+e.Ten+" "+e.digital),n()}),this.inputButton[2].node.on("click",function(){var t=e.Hundred+=1;e.Hundred=t%10,e.inputButton[2].node.getComponentInChildren(cc.Label).string=e.Hundred.toString(),console.log(e.thousand+" "+e.Hundred+" "+e.Ten+" "+e.digital),n()}),this.inputButton[3].node.on("click",function(){var t=e.thousand+=1;e.thousand=t%10,e.inputButton[3].node.getComponentInChildren(cc.Label).string=e.thousand.toString(),console.log(e.thousand+" "+e.Hundred+" "+e.Ten+" "+e.digital),n()}),this.Teleport.node.on("click",function(){l.default.GM.RoadMap.Teleport("s0230")});var i=t.getChildByName("Comfirm").getComponent(cc.Button);this.inputUI.maxLength=4,this.inputUI.fontSize=80,i.node.on("click",function(){console.log(e.inputUI.string),e.inputUI.string==e.password?(e.unlock.active=!0,o.active=!1,e.inputUI.maxLength=8,e.inputUI.string="unlock!",e.inputUI.enabled=!1,i.interactable=!1,s.default.RoadMapData.get("s0220").ForkShowUIList=[!0,!0]):e.inputUI.string=""}),this.TriggerBtn.node.on("click",function(){e.ZoomPage_PassWord.active=!0}),this.onCloseZoomPage.node.on("click",function(){a.AudioManager.playSound(c.SoundType.ClickButton),e.ZoomPage_PassWord.active=!1})},t.prototype.update=function(){},r([d(cc.Button)],t.prototype,"TriggerBtn",void 0),r([d(cc.Button)],t.prototype,"onCloseZoomPage",void 0),r([d([cc.Button])],t.prototype,"inputButton",void 0),r([d(cc.Label)],t.prototype,"DeLbl",void 0),r([d(cc.Node)],t.prototype,"ZoomPage_PassWord",void 0),r([d(cc.Button)],t.prototype,"Teleport",void 0),r([d(cc.EditBox)],t.prototype,"inputUI",void 0),r([d(cc.Node)],t.prototype,"unlock",void 0),r([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./GameManager":"GameManager","./RoadMap":"RoadMap"}],MenuControler:[function(e,t,o){"use strict";cc._RF.push(t,"afa24I9Iv5NSreA7ud7q5cA","MenuControler");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../i18n/data/i18n"),c=e("../Audio/AudioManager"),l=e("../Audio/AudioType"),s=e("../languageSelect"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MenuPage=null,t.MenuSwitch=null,t}return i(t,e),t.prototype.init=function(){var e=this;this.MenuPage=this.node.getChildByName("MenuPage");var t=this.MenuPage.getChildByName("resume").getComponent(cc.Button);t.node.getComponent(cc.Label).string=a.t("Resume"),t.node.on("click",function(){c.AudioManager.playSound(l.SoundType.ClickButton),e.MenuPage.active=!1});var o=this.MenuPage.getChildByName("Load").getComponent(cc.Button);o.node.getComponent(cc.Label).string=a.t("Load"),o.node.on("click",function(){c.AudioManager.playSound(l.SoundType.ClickButton)});var n=this.MenuPage.getChildByName("Save").getComponent(cc.Button);n.node.getComponent(cc.Label).string=a.t("Save"),n.node.on("click",function(){c.AudioManager.playSound(l.SoundType.ClickButton)});var i=this.MenuPage.getChildByName("Back Title").getComponent(cc.Button);i.node.getComponent(cc.Label).string=a.t("BackToTitle"),i.node.on("click",function(){c.AudioManager.playSound(l.SoundType.ClickButton),cc.director.loadScene("Title"),s.default.self.node.opacity=255,c.AudioManager.stopMusic()});var r=this.MenuPage.getChildByName("Exit Game").getComponent(cc.Button);r.node.getComponent(cc.Label).string=a.t("ExitGame"),r.node.on("click",function(){c.AudioManager.playSound(l.SoundType.ClickButton),window.close()}),this.MenuSwitch.node.on("click",function(){c.AudioManager.playSound(l.SoundType.ClickButton),e.MenuPage.active=!0})},r([d(cc.Button)],t.prototype,"MenuSwitch",void 0),r([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../i18n/data/i18n":"i18n","../Audio/AudioManager":"AudioManager","../Audio/AudioType":"AudioType","../languageSelect":"languageSelect"}],MouseListener:[function(e,t,o){"use strict";cc._RF.push(t,"c8280nFlyNB+4bsoJWSv0Fr","MouseListener");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./EventSystem"),c=e("./GameManager"),l=cc._decorator,s=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return i(t,e),o=t,Object.defineProperty(t,"CursorTexture",{get:function(){return o._CursorTexture},set:function(e){o._CursorTexture=e,o.Cursor.spriteFrame=null!=e?o.CursorTexture:null},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o.self=this,o.Cursor=cc.find("Canvas/Mask/cursor").getComponent(cc.Sprite),this.node.on("mousemove",function(e){o.mousePosition=cc.v2(e.getLocationX()+-960,e.getLocationY()+-540)}),this.node.on("click",function(){a.EventSystem.emit(a.EventType.Close_Subtitle),console.log("CLCK")})},t.prototype.start=function(){},t.prototype.update=function(){null!=o._CursorTexture&&o.Cursor.node.setPosition(o.mousePosition),c.default.GM},t.self=null,t.mousePosition=cc.v2(0,0),t.Cursor=null,t._CursorTexture=null,o=r([s],t)}(cc.Component));o.default=u,cc._RF.pop()},{"./EventSystem":"EventSystem","./GameManager":"GameManager"}],RoadData:[function(e,t,o){"use strict";cc._RF.push(t,"6f974TbkURDU6eSbiBdXnuh","RoadData");var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DramaCondition=void 0;var i,r=cc._decorator,a=r.ccclass,c=(r.property,function(){function e(){this.MapName="",this.ForkListName=[],this.MapID="",this.ForkListID=[],this.ForkShowUIList=[],this.isbeenhere=!1,this.DramaName="",this.condition=i.None,this.MapMusic=null}return e.prototype.start=function(){},n([a],e)}());o.default=c,function(e){e.None="",e.HasItem="Item",e.Summon="summon"}(i=o.DramaCondition||(o.DramaCondition={})),cc._RF.pop()},{}],RoadMap:[function(e,t,o){"use strict";cc._RF.push(t,"2fc2dMb3exPMb/WUtKLY02d","RoadMap");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Audio/AudioManager"),c=e("./Audio/AudioType"),l=e("./EventSystem"),s=e("./GameManager"),u=e("./RoadData"),p=e("../i18n/data/i18n"),d=cc._decorator,f=d.ccclass,m=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DeMap=null,t.selectBtn=null,t.LevelScene=null,t.Fade=null,t.selectLevel_icon=null,t.selectLevelScene=null,t.RoadData_json={s0100:{MapName:"Vanilla Forest",ForkListName:["Dilapidated Castle"],MapID:"s0100",ForkListID:["s0110"],ForkShowUIList:[],DramaName:"",condition:"",MapMusic:c.MusicType.VanillaForest},s0110:{MapName:"Dilapidated Castle",ForkListName:["Vanilla Forest","Castle Room","Rainbow Valley"],MapID:"s0110",ForkListID:["s0100","s0120","s0200"],ForkShowUIList:[!0,!0,!1],DramaName:"c0110",condition:"",MapMusic:c.MusicType.BreakCastle},s0120:{MapName:"Castle Room",ForkListName:["Dilapidated Castle","Secret Chamber"],MapID:"s0120",ForkListID:["s0110","s0130"],ForkShowUIList:[!0,!1],DramaName:"c0120",condition:"p0080",MapMusic:c.MusicType.SecretRoom},s0130:{MapName:"Secret Chamber",ForkListName:["Castle Room"],MapID:"s0130",ForkListID:["s0120"],ForkShowUIList:[],DramaName:"c0130",condition:"",MapMusic:c.MusicType.SecretRoom},s0200:{MapName:"Rainbow Valley",ForkListName:["Vanilla Forest","Abandoned Herb Shop","Garden Labyrinth"],MapID:"s0200",ForkListID:["s0100","s0210","s0220"],ForkShowUIList:[],DramaName:"c0200",condition:"summon",MapMusic:c.MusicType.Rainbow},s0210:{MapName:"Abandoned Herb Shop",ForkListName:["Rainbow Valley"],MapID:"s0210",ForkListID:["s0200"],ForkShowUIList:[],DramaName:"c0210",condition:"summon",MapMusic:c.MusicType.PlantRoom},s0220:{MapName:"Garden Labyrinth",ForkListName:["Rainbow Valley","Crystal Cave"],MapID:"s0220",ForkListID:["s0200","s0230"],ForkShowUIList:[!0,!1],DramaName:"c0220",condition:"summon",MapMusic:c.MusicType.GardenMaze},s0230:{MapName:"Crystal Cave",ForkListName:["Garden Labyrinth"],MapID:"s0230",ForkListID:["s0220"],ForkShowUIList:[],DramaName:"c0230",condition:"summon",MapMusic:c.MusicType.CrystallCave}},t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"currentMap",{get:function(){return this._currentMap},set:function(e){this._currentMap=e,this.DeMap.string=this._currentMap.MapID},enumerable:!1,configurable:!0}),t.prototype.init=function(e){var t=this;this.LevelScene=cc.find("Canvas/Mask/LevelScene"),this.Fade=cc.find("Canvas/Mask/Fade"),this.selectLevel_icon=cc.find("Canvas/Mask/selectLevel_icon"),this.selectLevelScene=cc.find("Canvas/Mask/selectLevelScene"),this.selectLevel_icon.on("click",function(){a.AudioManager.playSound(c.SoundType.ClickButton),t.selectLevelScene.active=!t.selectLevelScene.active,s.default.GM.talk.SummonPage.active=!1,s.default.GM.CombieSystem.CombinePage.active=!1,s.default.GM.TutorialBtn.stopAllActions()}),l.EventSystem.on(l.EventType.ChangeMap,function(e){var n=o.RoadMapData.get(e);t.updateList(n)}),l.EventSystem.on(l.EventType.onTeleport,function(e){console.log("telelport=> "+e),t.Teleport(e)}),e()},t.prototype.onLoad_RoadData=function(){for(var e=Object.keys(this.RoadData_json),t=0;t<e.length;t++){for(var n=new u.default,i=0,r=Object.entries(this.RoadData_json[e[t]]);i<r.length;i++){var a=r[i],c=a[0],l=a[1];Object.keys(n).has(c)?n[c]=l:console.error("--Property["+e[t]+"/"+c+"]--RoadData Loaded ERROR---------")}o.RoadMapData.set(e[t],n)}},t.prototype.updateList=function(){var e=this,t=cc.find("Canvas/Mask/selectLevelScene"),n=this.currentMap;this.LevelScene=cc.find("Canvas/Mask/LevelScene");for(var i=0;i<n.ForkListID.length;i++){var r=cc.instantiate(this.selectBtn);if(r.name=n.ForkListID[i],p.t(n.ForkListName[i]),r.children[0].getComponentInChildren(cc.Label).string=p.t(n.ForkListName[i]),n.ForkShowUIList.length>0){var u=n.ForkShowUIList[i];r.getComponent(cc.Button).interactable=u}t.addChild(r)}var d=function(i){t.children[i].once("click",function(){a.AudioManager.playSound(c.SoundType.ClickButton),e.LevelScene.children.forEach(function(t){var o=t.name==n.ForkListID[i];o?cc.tween(e.Fade).to(.15,{opacity:255}).call(function(){t.active=o}).to(.15,{opacity:0}).start():t.active=o}),e.currentMap=o.RoadMapData.get(n.ForkListID[i]),t.destroyAllChildren(),s.default.GM.itemBag.onCloseBag(),s.default.GM.CombieSystem.onClosePage(),l.EventSystem.emit(l.EventType.Close_Subtitle),s.default.GM.talk.SummonPage.active=!1,s.default.GM.itemBag.returnSelectItemToBag(),e.scheduleOnce(function(){e.SceneDramaCheck(),e.selectLevelScene.active=!1,l.EventSystem.emit(l.EventType.ChangeMap,e.currentMap.MapID),a.AudioManager.playMusic(e.currentMap.MapMusic)},.5)})};for(i=0;i<t.children.length;i++)d(i)},t.prototype.Teleport=function(e){this.currentMap=o.RoadMapData.get(e),cc.find("Canvas/Mask/selectLevelScene").getChildByName(e).emit("click")},t.prototype.SceneDramaCheck=function(){if(0==this.currentMap.isbeenhere&&""!=this.currentMap.DramaName)if(this.currentMap.condition!=u.DramaCondition.None){if(console.log("\u6709\u689d\u4ef6"),"p"==this.currentMap.condition[0])if(null!=s.default.GM.itemBag.BagItemsMap.get(this.currentMap.condition))l.EventSystem.emit(l.EventType.LoadDrama,this.currentMap.DramaName),this.currentMap.isbeenhere=!0;else{var e=this.currentMap.DramaName;l.EventSystem.emit(l.EventType.LoadDrama,e+"1")}}else this.currentMap.condition==u.DramaCondition.None&&(l.EventSystem.emit(l.EventType.LoadDrama,this.currentMap.DramaName),this.currentMap.isbeenhere=!0)},t.RoadMapData=new Map,r([m(cc.Label)],t.prototype,"DeMap",void 0),r([m(cc.Prefab)],t.prototype,"selectBtn",void 0),o=r([f],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../i18n/data/i18n":"i18n","./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./EventSystem":"EventSystem","./GameManager":"GameManager","./RoadData":"RoadData"}],RuntimeHierarchy:[function(e,t,o){"use strict";cc._RF.push(t,"2d71eiJfqNNbY4b+seXjfWS","RuntimeHierarchy");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RuntimeHierarchy=void 0;var a=cc._decorator,c=a.ccclass,l=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backgroundColor=cc.color(254,251,216),t.highlightColor=cc.Color.GRAY,t.opacity=.8,t.m_Root=null,t.m_Div=null,t.m_UnfoldingElems=[],t.onClickNodeBtn=function(e,o){if(t.onSelectNode&&t.onSelectNode(o),!(o.childrenCount<=0)){var n=o.uuid;t.isFolding(n)?(t.m_UnfoldingElems.push(n),e.innerText=t.getElemName(o),o.children.forEach(function(o){var n=t.createNodeElem(o);e.appendChild(n)})):(t.m_UnfoldingElems.remove(n),e.innerText=t.getElemName(o),e.removeAllChild(),t.removeFoldRecodeRecursive(o))}},t}return i(t,e),t.prototype.start=function(){this.createRoot(),this.createTitle(),this.createDiv(),this.initHierarchy(),this.addStyle();var e=document.getElementById("GameDiv");e.style.right="10px",e.style.top="35px",e.style.position="absolute",e.setAttribute("align","right")},t.prototype.initHierarchy=function(){var e=this,t=cc.director.getScene();t.children.forEach(function(t){var o=e.createNodeElem(t);e.m_Div.appendChild(o)}),t.on(cc.Node.EventType.CHILD_REORDER,function(){return e.refreshChildrenElements(e.m_Div,t)}),t.on(cc.Node.EventType.CHILD_ADDED,function(){return e.refreshChildrenElements(e.m_Div,t)}),t.on(cc.Node.EventType.CHILD_REMOVED,function(){return e.refreshChildrenElements(e.m_Div,t)})},t.prototype.isFolding=function(e){return!this.m_UnfoldingElems.has(e)},t.prototype.getElemName=function(e){return this.isFolding(e.uuid)?(e.childrenCount>0?"\u25b6 ":" ")+e.name:"\u25bc "+e.name},t.prototype.refreshChildrenElements=function(e,t){var o=this;this.isFolding(t.uuid)||(this.removeFoldRecodeRecursive(t),e.removeAllChild(),e.innerText=this.getElemName(t),t.children.forEach(function(t){var n=o.createNodeElem(t);e.appendChild(n)}))},t.prototype.removeFoldRecodeRecursive=function(e){var t=this;e.children.forEach(function(e){t.m_UnfoldingElems.remove(e.uuid),t.removeFoldRecodeRecursive(e)})},t.prototype.getTextColor=function(e){return e.active?"black":"gray"},t.prototype.createTitle=function(){var e=document.createElement("label");e.innerText="Runtime Hierarchy",e.style.color="black",e.style.textAlign="center",e.style.textDecoration="bold";var t=document.createElement("hr");this.m_Root.appendChild(e),this.m_Root.appendChild(t)},t.prototype.createDiv=function(){this.m_Div=document.createElement("div"),this.m_Div.className="RuntimeHierarchy_Nodes",this.m_Root.appendChild(this.m_Div)},t.prototype.createNodeElem=function(e){var t=document.createElement("div");t.className="node",t.style.display="block";var o=this.createNodeButton(e),n=this.createToggle(e,o);return t.appendChild(o),t.appendChild(n),t},t.prototype.createNodeButton=function(e){var t=this,o=document.createElement("button");o.style.display="inline-block",o.style.border="none",o.style.textAlign="left",o.style.backgroundColor="inherit",o.innerText=this.getElemName(e),o.style.color=this.getTextColor(e),o.onclick=function(n){n.cancelBubble=!0,t.onClickNodeBtn(o,e)};var n=function(){return t.refreshChildrenElements(o,e)};return e.on(cc.Node.EventType.CHILD_REORDER,n),e.on(cc.Node.EventType.CHILD_ADDED,n),e.on(cc.Node.EventType.CHILD_REMOVED,n),e.on("active-in-hierarchy-changed",function(){return console.log("Active Canged",e.name)}),o},t.prototype.createToggle=function(e,t){var o=this,n=document.createElement("input");return n.type="checkbox",n.checked=e.active,n.onclick=function(n){n.cancelBubble=!0,e.active=!e.active,t.style.color=o.getTextColor(e)},n},t.prototype.createRoot=function(){this.m_Root=document.createElement("div"),this.m_Root.style.backgroundColor=this.backgroundColor.toHEX("#rrggbb"),this.m_Root.style.opacity=this.opacity.toString(),this.m_Root.style.position="absolute",this.m_Root.style.left="10px",this.m_Root.style.top="35px",this.m_Root.style.maxHeight="95%",this.m_Root.style.overflow="auto",this.m_Root.style.padding="5px",document.body.appendChild(this.m_Root)},t.prototype.onDestroy=function(){this.m_Root.parentElement.removeChild(this.m_Root)},t.prototype.addStyle=function(){var e=document.createElement("style"),t="\n.node {\n            background-color: inherit;\n            display = block;\n            border = none;\n            textAlign = left;\n                    }\n                    .node:hover {\n            background-color: "+this.highlightColor.toHEX("#rrggbb")+";\n        }\n        .node.parent {  \n            pointer-events: none;\n            background-color: #2100dd;\n        }\n        .node.parent:hover {  \n            pointer-events: none;\n            background-color: #2100dd;\n        }\n        .node.child {  \n            pointer-events: none;\n            background-color: #2100dd;\n                    }\n\n        ";e.innerHTML=t,document.head.appendChild(e)},r([l(cc.Color)],t.prototype,"backgroundColor",void 0),r([l(cc.Color)],t.prototype,"highlightColor",void 0),r([l(cc.Float)],t.prototype,"opacity",void 0),r([c],t)}(cc.Component);o.RuntimeHierarchy=s,cc._RF.pop()},{}],RuntimeInspector:[function(e,t,o){"use strict";cc._RF.push(t,"aaafc8iQEVM3Ydy8LHDBwM/","RuntimeInspector");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RuntimeInspector=void 0;var a=e("./RuntimeHierarchy"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_RuntimeHierarchy=null,t.backgroundColor=cc.color(254,251,216),t.opacity=.8,t.m_Root=null,t.m_PositionInfo=null,t.m_SelectingNode=null,t.onSelectNode=function(e){null!=t.m_SelectingNode&&(t.m_SelectingNode.off(cc.Node.EventType.POSITION_CHANGED),t.m_SelectingNode.off(cc.Node.EventType.ROTATION_CHANGED),t.m_SelectingNode.off(cc.Node.EventType.SIZE_CHANGED)),t.m_SelectingNode=e,t.updateInspector()},t}return i(t,e),t.prototype.start=function(){this.createRoot(),this.createPositionInfo(),this.m_RuntimeHierarchy.onSelectNode=this.onSelectNode},t.prototype.lateUpdate=function(){this.updateInspector()},t.prototype.updateInspector=function(){if(this.m_SelectingNode){var e=this.m_SelectingNode,t=e.position;this.m_PositionInfo.innerText=e.name+"\n            ----------------\n            POSITION{x:"+t.x+",y:"+t.y+",z:"+t.z+"}\n            ----------------\n            ROTATION{x:"+e.eulerAngles.x+",y:"+e.eulerAngles.y+",z:"+e.eulerAngles.z+"}\n            ----------------\n            SIZE{width:"+e.width+",height:"+e.height+"}\n            ----------------\n            OPACITY:"+e.opacity+"\n            ----------------\n            SCALE:{"+e.scaleX+","+e.scaleY+"}\n            ----------------\n            ZIndex:{"+e.zIndex+"\n            "}},t.prototype.updatePositionInfo=function(){},t.prototype.createPositionInfo=function(){this.m_PositionInfo=document.createElement("label"),this.m_PositionInfo.style.color="black",this.m_Root.appendChild(this.m_PositionInfo)},t.prototype.createRoot=function(){this.m_Root=document.createElement("div"),this.m_Root.style.backgroundColor=this.backgroundColor.toHEX("#rrggbb"),this.m_Root.style.opacity=this.opacity.toString(),this.m_Root.style.position="absolute",this.m_Root.style.left="300px",this.m_Root.style.top="35px",this.m_Root.style.maxHeight="95%",this.m_Root.style.overflow="auto",this.m_Root.style.padding="5px",document.body.appendChild(this.m_Root)},t.prototype.onDestroy=function(){this.m_Root.parentElement.removeChild(this.m_Root)},r([s(a.RuntimeHierarchy)],t.prototype,"m_RuntimeHierarchy",void 0),r([s(cc.Color)],t.prototype,"backgroundColor",void 0),r([s(cc.Float)],t.prototype,"opacity",void 0),r([l],t)}(cc.Component);o.RuntimeInspector=u,cc._RF.pop()},{"./RuntimeHierarchy":"RuntimeHierarchy"}],Talk:[function(e,t,o){"use strict";cc._RF.push(t,"666c364BYNKzJ9YI/qdlhLs","Talk");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterNames=void 0;var a=e("./Audio/AudioManager"),c=e("./Audio/AudioType"),l=e("./EventSystem"),s=e("./GameManager"),u=e("./RoadData"),p=cc._decorator,d=p.ccclass,f=p.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Summon_Btn=null,t.HeadIconTextures=[],t.SummonPage=null,t.Tip_Btn=[],t}return i(t,e),t.prototype.init=function(){var e=this;this.Summon_Btn.node.on("click",function(){a.AudioManager.playSound(c.SoundType.ClickButton),e.SummonPage.active=!e.SummonPage.active,s.default.GM.RoadMap.selectLevelScene.active=!1,s.default.GM.CombieSystem.CombinePage.active=!1})},t.prototype.unLockCharacter=function(){this.Tip_Btn[0].getComponentInChildren(cc.Sprite).spriteFrame=this.HeadIconTextures[1],this.Tip_Btn[0].node.on("click",function(){a.AudioManager.playSound(c.SoundType.ClickButton);var e=s.default.GM.RoadMap.currentMap;e.condition==u.DramaCondition.Summon&&l.EventSystem.emit(l.EventType.NPC_Tips,e.DramaName)})},r([f(cc.Button)],t.prototype,"Summon_Btn",void 0),r([f([cc.SpriteFrame])],t.prototype,"HeadIconTextures",void 0),r([f(cc.Node)],t.prototype,"SummonPage",void 0),r([f([cc.Button])],t.prototype,"Tip_Btn",void 0),r([d],t)}(cc.Component);o.default=m,(o.CharacterNames||(o.CharacterNames={})).Nurn="Norn",cc._RF.pop()},{"./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./EventSystem":"EventSystem","./GameManager":"GameManager","./RoadData":"RoadData"}],i18n:[function(e,t){"use strict";cc._RF.push(t,"d292bphnZFCgLdY/t22Typo","i18n");var o=new(e("polyglot"))({phrases:e("EN")});t.exports={init:function(t){var n=e(t);o.replace(n)},t:function(e,t){return o.t(e,t)}},cc._RF.pop()},{EN:"EN",polyglot:"polyglot"}],itemsController:[function(e,t,o){"use strict";cc._RF.push(t,"35c0bxj9UhHK4bMWdPtk04Y","itemsController");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.gimmickType=void 0;var a=e("./Audio/AudioManager"),c=e("./Audio/AudioType"),l=e("./EventSystem"),s=e("./GameManager"),u=e("./RoadMap"),p=e("./item"),d=cc._decorator,f=d.ccclass,m=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MirrorBreak=null,t.root=null,t.PoolMap=new Map,t.PoolNode=null,t.DeBugRecord=[],t.conver=[],t.IconMap=new Map,t}return i(t,e),t.prototype.itemPool_init=function(e){var t=this;console.log("Start itemPool_init"),this.PoolNode=this.node,cc.loader.loadRes(e,function(o,n){o&&console.error("ResPath=>--"+e+"--"),t.conver=s.default.CSVToArray(n.text,",");for(var i=[],r=[],d=[],f=[],m=[],h=[],y=[],v=[],g=[],_=[],C=1;C<t.conver.length;C++){var S=t.conver[C][0];i.push(S);var b=t.conver[C][2];r.push(b);var M=t.conver[C][3];d.push(M);var R=t.conver[C][4];f.push(R);var D=t.conver[C][5];m.push(D);var P=t.conver[C][6];h.push(P);var T=t.conver[C][7];g.push(T);var E=t.conver[C][8];_.push(E);var I=t.conver[C][9];y.push(I);var O=t.conver[C][10];v.push(O)}console.log("IDs.length="+i.length+"\n"+i);var N=function(e){var o=new cc.Node(""+i[e]);o.parent=t.PoolNode,o.addComponent(cc.Button),o.addComponent(cc.Sprite);var n=o.addComponent(p.default);n.combineResult=d[e],n.combinePair=r[e],n.collectable="1"==f[e],n.triggerKey=m[e],n.triggerTransform=h[e],n.Dialog=y[e],n.zoom="1"==g[e],n.clickEvent=_[e],n.instance=n.node,n.itemSound=v[e],n.node.on("click",function(){if(n.collectable&&""==n.triggerKey)console.log(n.node.name),n.node.off("click"),l.EventSystem.emit(l.EventType.USER_GET_ITEM,n.node),a.AudioManager.playSound(c.SoundType.PickUpItem);else if(null!=n.triggerKey&&""!=n.triggerKey)n.node.on("click",function(){var e=null;s.default.GM.RoadMap.LevelScene.children.forEach(function(t){t.activeInHierarchy&&(e=t)});var o=e.getChildByName("OnScene"),i=e.getChildByName("ZoomPage");if(null!=s.default.GM.itemBag.selectItem){var r=s.default.GM.itemBag.selectItem.instance.name;if(n.triggerKey==r){if(""!=s.default.GM.itemBag.selectItem.itemSound){var p=s.default.GM.itemBag.selectItem.itemSound;a.AudioManager.playSound(c.SoundType[p])}var d=n.triggerTransform.split(",");console.log("item_Name=> "+n.instance.name),console.log("objs_Name=> "+d);for(var f=function(e){if(null!=o.getChildByName(d[e]))o.getChildByName(d[e]).active=!0;else if(null!=i.getChildByName(d[e]))i.getChildByName(d[e]).active=!0;else if("c"==d[e][0])return u.default.RoadMapData.get("s0110").ForkShowUIList=[!0,!0,!0],t.MirrorBreak.setAnimation(0,"2s",!1),t.MirrorBreak.setCompleteListener(function(){t.MirrorBreak.setCompleteListener(null),s.default.GM.talk.unLockCharacter(),s.default.GM.DramaPlayer.node.active=!0;var o=d[e];l.EventSystem.emit(l.EventType.LoadDrama,o,!0)}),"break"},m=0;m<d.length&&"break"!==f(m);m++);s.default.GM.itemBag.ItemUsed(),n.node.active=!1}}});else if(n.zoom){var e=null;s.default.GM.RoadMap.LevelScene.children.forEach(function(t){t.activeInHierarchy&&(e=t)});var o=e.getChildByName("ZoomPage");o.getChildByName("Block").active=!0,o.getChildByName(n.node.name).active=!0}else if(""!=n.clickEvent){var i=n.clickEvent;"s"==i[0]&&l.EventSystem.emit(l.EventType.onTeleport,n.clickEvent),"c"==i[0]&&l.EventSystem.emit(l.EventType.LoadDrama,n.clickEvent,!0)}l.EventSystem.emit(l.EventType.ReceiveSubtitle,n)}),t.PoolMap.set(n.node.name,n)};for(C=0;C<i.length;C++)N(C);var k=cc.find("Canvas/Mask/LevelScene"),B=k.children.length;for(s.default.GM.itemBag.BagInit(),C=0;C<B;C++){var A=k.children[C],w=A.getChildByName("OnScene"),L=A.getChildByName("ZoomPage");t.set_Level_items(w,L)}t.IconMapInit()})},t.prototype.collectChildNode=function(e,t){for(var o=function(o){if(!(t.children.length>0))return{value:void 0};var i=t.children[o];cc.loader.loadRes(e+"/"+i.name,function(e,t){e&&console.warn("Texture loadError=>",i);var o=new cc.SpriteFrame(t);i.getComponent(cc.Sprite).spriteFrame=o}),i.getComponent(cc.Sprite).trim=!0,i.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,n.collectChildNode(e,t.children[o])},n=this,i=0;i<t.children.length;i++){var r=o(i);if("object"==typeof r)return r.value}},t.prototype.set_Level_items=function(e,t){if(null!=e){console.log("onScene=>",e.name);for(var o=function(t){var o=e.children[t].name,i=n.PoolMap.get(o);null!=i&&null!=i||console.error("can't get item in pool ["+o+"]"),null!=e.getChildByName(o)&&null!=e.getChildByName(o)||console.error("can't find in node on Scene= ",o),n.DeBugRecord.includes(o)&&console.error("Repeate setting "+o),n.DeBugRecord.push(o),i.node.parent=e.getChildByName(o),cc.loader.loadRes("itemTextures/"+o,function(e,t){e&&console.warn("Texture loadError=>",o);var n=new cc.SpriteFrame(t);i.node.getComponent(cc.Sprite).spriteFrame=n}),i.node.getComponent(cc.Sprite).trim=!0,i.node.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,i.node.setContentSize(i.node.parent.getContentSize()),null==i.node.getComponent(cc.Button)&&i.addComponent(cc.Button)},n=this,i=0;i<e.children.length;i++)o(i)}if(null!=t){var r=t.getChildByName("Block");r.on("click",function(){l.EventSystem.emit(l.EventType.Close_Subtitle),r.parent.children.forEach(function(e){e.active=!1})});var a=t.children;for(i=0;i<a.length;i++)if(0!=a[i].children.length){var c=a[i],s=c.children[0].name,u=this.PoolMap.get(s);u.node.parent=c.children[0],u.node.setContentSize(u.node.parent.getContentSize())}this.collectChildNode("itemTextures",t)}},t.prototype.IconMapInit=function(){for(var e=this,t=10,o=function(o){var n=t.toString().padStart(4,"0");cc.loader.loadRes("icons/p"+n,function(t,i){t&&console.error("Load Icon Error=> p"+n);var r=new cc.SpriteFrame(i);r.name=n,e.IconMap.set("p"+n,r),21==o&&console.log(e.IconMap)}),t+=10},n=1;n<22;n++)o(n)},r([m(sp.Skeleton)],t.prototype,"MirrorBreak",void 0),r([f],t)}(cc.Component);o.default=h,function(e){e.LockBox="LockBox",e.Password="Password",e.puzzle="puzzle"}(o.gimmickType||(o.gimmickType={})),cc._RF.pop()},{"./Audio/AudioManager":"AudioManager","./Audio/AudioType":"AudioType","./EventSystem":"EventSystem","./GameManager":"GameManager","./RoadMap":"RoadMap","./item":"item"}],item:[function(e,t,o){"use strict";cc._RF.push(t,"a16e3KCelVCjoVQyYE+nvBX","item");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.instance=null,t.collectable=!1,t.combinePair="",t.combineResult="",t.triggerKey="",t.triggerTransform="",t.render=null,t.Dialog="",t.isCollected=!1,t.zoom=!1,t.clickEvent="",t.itemSound="",t}return i(t,e),t.prototype.start=function(){this.instance=this.node,null==this.node.getComponent(cc.Sprite)&&(this.render=this.node.addComponent(cc.Sprite),this.render.trim=!0,this.render.sizeMode=cc.Sprite.SizeMode.TRIMMED)},r([c],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],languageSelect:[function(e,t,o){"use strict";cc._RF.push(t,"2b444UwBDdOz4mrrKcsezKV","languageSelect");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.enumLanguage=void 0;var a,c=e("../i18n/data/i18n"),l=cc._decorator,s=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.languageOption=[],t.OptionColor=[],t}var o;return i(t,e),o=t,t.prototype.start=function(){var e=this;o.self=this.node.getComponent(o),cc.game.addPersistRootNode(this.node),this.languageOption=this.node.getComponentsInChildren(cc.Button),this.OptionColor=this.node.getComponentsInChildren(cc.Label);var t=Object.values(a);this.languageOption.forEach(function(n,i){n.getComponentInChildren(cc.Label).string=t[i],n.node.on("click",function(){console.log("click"),o.language=t[i],e.OptionColor[i].node.color=cc.color(255,255,255),e.OptionColor[(i+1)%4].node.color=cc.color(155,155,155),e.OptionColor[(i+2)%4].node.color=cc.color(155,155,155),e.OptionColor[(i+3)%4].node.color=cc.color(155,155,155)})}),this.languageOption[0].node.emit("click")},t.init=function(){c.init(this.language)},t.prototype.UpdateLanguage=function(){},t.self=null,t.language=null,o=r([s],t)}(cc.Component));o.default=u,function(e){e.EN="EN",e.CHT="CHT",e.CHS="CHS",e.JP="JP",e.KR="KR"}(a=o.enumLanguage||(o.enumLanguage={})),cc._RF.pop()},{"../i18n/data/i18n":"i18n"}],polyglot:[function(e,t,o){(function(e){"use strict";cc._RF.push(t,"e01b0CvqPBDWpqXY92TOUzO","polyglot"),function(e,n){"function"==typeof define&&define.amd?define([],function(){return n(e)}):"object"==typeof o?t.exports=n(e):e.Polyglot=n(e)}(void 0!==e?e:void 0,function(e){var t=String.prototype.replace;function o(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||f}o.VERSION="1.0.0",o.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},o.prototype.extend=function(e,t){var o;for(var n in e)e.hasOwnProperty(n)&&(o=e[n],t&&(n=t+"."+n),"object"==typeof o?this.extend(o,n):this.phrases[n]=o)},o.prototype.unset=function(e,t){var o;if("string"==typeof e)delete this.phrases[e];else for(var n in e)e.hasOwnProperty(n)&&(o=e[n],t&&(n=t+"."+n),"object"==typeof o?this.unset(o,n):delete this.phrases[n])},o.prototype.clear=function(){this.phrases={}},o.prototype.replace=function(e){this.clear(),this.extend(e)},o.prototype.t=function(e,o){var i,r,a,l,u,p,f,h,y;return"number"==typeof(o=null==o?{}:o)&&(o={smart_count:o}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof o._?i=o._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof i&&(o=m(o),r=d((a=i,l=this.currentLocale,null!=(u=o.smart_count)&&a?(h=(f=a.split(n))[s(l,u)]||f[0],y=h,p=t.call(y,c,"")):p=a,r=p),o)),r},o.prototype.has=function(e){return e in this.phrases};var n="||||",i={chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},r={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function a(e){var t,o,n,i={};for(t in e)if(e.hasOwnProperty(t))for(n in o=e[t])i[o[n]]=t;return i}var c=/^\s+|\s+$/g;function l(e){var t=a(r);return t[e]||t.en}function s(e,t){return i[l(e)](t)}var u=/\$/g,p="$$$$";function d(e,o){for(var n in o)if("_"!==n&&o.hasOwnProperty(n)){var i=o[n];"string"==typeof i&&(i=t.call(o[n],u,p)),e=t.call(e,new RegExp("%\\{"+n+"\\}","g"),i)}return e}function f(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function m(e){var t={};for(var o in e)t[o]=e[o];return t}return o}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],subtitle_player:[function(e,t,o){"use strict";cc._RF.push(t,"c11992ckFZEhJkgIsvZ5Zdd","subtitle_player");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./EventSystem"),c=e("./GameManager"),l=e("./MouseListener"),s=cc._decorator,u=s.ccclass,p=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TipIcon=null,t.Confirm=null,t.infoData="",t.infoDataChars=[],t.delaytime=.02,t.CharIndex=0,t.timeCount=0,t.touchEnable=!1,t.DisplayLabel=null,t.ctxBlock=null,t.subtitlePos=[cc.v2(0,-340),cc.v2(0,340)],t.startCountFlag=!1,t._CountTimeLimit=1,t._CountTime=0,t}return i(t,e),Object.defineProperty(t.prototype,"SubTitleCountTime",{get:function(){return this._CountTime},set:function(e){this._CountTime=e,this._CountTime>this._CountTimeLimit&&(this.startCountFlag=!1,this.SubTitleCountTime=0,a.EventSystem.emit(a.EventType.Close_Subtitle))},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this;this.ctxBlock=this.node.getComponentInChildren(cc.BlockInputEvents),this.TipIcon=this.node.getChildByName("icons").getComponent(cc.Sprite),this.Confirm=this.node.getChildByName("Confirm"),this.Confirm.getComponentInChildren(cc.Label).string="\u2713",this.DisplayLabel=this.node.getComponentInChildren(cc.Label),this.Confirm.on("click",function(){e._CountTime=e._CountTimeLimit=1,e.TipIcon.spriteFrame=null,e.Confirm.active=!1,e.ctxBlock.node.active=!1}),a.EventSystem.on(a.EventType.ReceiveSubtitle,function(t){if(console.log(t),null!=t.Dialog&&null!=t.Dialog&&""!=t.Dialog){if(l.default.mousePosition.y>0?e.node.setPosition(e.subtitlePos[0]):e.node.setPosition(e.subtitlePos[1]),t.collectable&&0==t.isCollected){t.isCollected=!0,e.ctxBlock.node.active=!0;var o=c.default.GM.itemsController.IconMap.get(t.instance.name);e.TipIcon.spriteFrame=o,e._CountTimeLimit=999,e.Confirm.active=!0}else e._CountTimeLimit=1;e.resetPlay(),e.clean_tempString(),e.infoData=t.Dialog,e.node.opacity=255,e.PlaySubtitle()}}),a.EventSystem.on(a.EventType.Close_Subtitle,function(){e.clean_tempString(),e.node.opacity=0})},t.prototype.PlaySubtitle=function(){this.resetPlay();for(var e=0;e<this.infoData.length;e++)this.infoDataChars[e]=this.infoData[e];this.touchEnable=!0},t.prototype.clean_tempString=function(){this.infoData="",this.infoDataChars=[],this.DisplayLabel.string=""},t.prototype.update=function(e){this.startCountFlag&&(this.SubTitleCountTime+=e),0!=this.touchEnable&&(this.timeCount+=e,this.timeCount>this.delaytime&&(this.DisplayLabel.string+=this.infoDataChars[this.CharIndex],this.CharIndex+1<this.infoDataChars.length?(this.CharIndex+=1,this.timeCount=0,this.SubTitleCountTime=0):this.resetPlay()))},t.prototype.resetPlay=function(){this.CharIndex=0,this.timeCount=0,this.touchEnable=!1,console.log("resetPlayresetPlayresetPlay"),this.startCountFlag=!0},r([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"./EventSystem":"EventSystem","./GameManager":"GameManager","./MouseListener":"MouseListener"}],test:[function(e,t,o){"use strict";cc._RF.push(t,"07f417EvQdKEJiGmEN/6P5u","test");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Scritps/RoadData"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.JsonAsset=null,t.testMap=new Map,t.RoadData_json={s0100:{MapName:"\u9999\u8349\u68ee\u6797",ForkListName:["\u7834\u820a\u57ce\u5821"],MapID:"s0100",ForkListID:["s0110"],ForkShowUIList:[],DramaName:"",condition:""},s0110:{MapName:"\u7834\u820a\u57ce\u5821",ForkListName:["\u9999\u8349\u68ee\u6797","\u57ce\u5821\u7684\u623f\u9593","\u5f69\u8679\u8c37"],MapID:"s0110",ForkListID:["s0100"],ForkShowUIList:["s0100","s0120","s0200"],DramaName:"c0110",condition:""},s0120:{MapName:"\u57ce\u5821\u7684\u623f\u9593",ForkListName:["\u7834\u820a\u57ce\u5821","\u5bc6\u5ba4"],MapID:"s0120",ForkListID:["s0100"],ForkShowUIList:[!0,!1],DramaName:"c0110",condition:"p0080"},s0130:{MapName:"\u5bc6\u5ba4",ForkListName:["\u57ce\u5821\u7684\u623f\u9593"],MapID:"s0130",ForkListID:["s0120"],ForkShowUIList:[],DramaName:"c0130",condition:""},s0200:{MapName:"\u5f69\u8679\u8c37",ForkListName:["\u9999\u8349\u68ee\u6797","\u8352\u5ee2\u7684\u8349\u85e5\u5e97","\u82b1\u5712\u8ff7\u5bae"],MapID:"s0200",ForkListID:["s0100","s0210","s0220"],ForkShowUIList:[],DramaName:"c0200",condition:""},s0210:{MapName:"\u8352\u5ee2\u7684\u8349\u85e5\u5e97",ForkListName:["\u5f69\u8679\u8c37"],MapID:"s0210",ForkListID:["s0200"],ForkShowUIList:[],DramaName:"c0210",condition:""},s0220:{MapName:"\u6c34\u6676\u6d1e\u7a9f",ForkListName:["\u82b1\u5712\u8ff7\u5bae"],MapID:"s0230",ForkListID:["s0200"],ForkShowUIList:[],DramaName:"c0230",condition:""}},t}return i(t,e),t.prototype.start=function(){for(var e=Object.keys(this.RoadData_json),t=0;t<e.length;t++){for(var o=new a.default,n=0,i=Object.entries(this.RoadData_json[e[t]]);n<i.length;n++){var r=i[n],c=r[0],l=r[1];Object.keys(o).has(c)?o[c]=l:console.error("--Property["+e[t]+"/"+c+"]--RoadData Loaded ERROR---------")}this.testMap.set(e[t],o)}},r([s(cc.JsonAsset)],t.prototype,"JsonAsset",void 0),r([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Scritps/RoadData":"RoadData"}],zh:[function(e,t){"use strict";cc._RF.push(t,"8d4fegX83NCdZlaO8GNZj47","zh"),t.exports={HELLO:"\u4f60\u597d",WORLD:"\u4e16\u754c",WELCOME:"\u6b22\u8fce\uff0c %{name}\uff01"},cc._RF.pop()},{}]},{},["test","AudioManager","AudioType","CSV","ComebineSystem","DramaData","DramaPlayer","EventSystem","GameManager","GameObjectPool","GameStart","CocosExtension","CocosUtil","DebugUtil","RuntimeHierarchy","RuntimeInspector","IntroAction","ItemBag","Maze","MenuControler","MouseListener","RoadData","RoadMap","Talk","item","itemsController","languageSelect","subtitle_player","LabelLocalized","CHS","CHT","EN","JP","KR","i18n","zh","polyglot"]);